(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1281:function(e,n,t){"use strict";t.r(n);t(166);var a=t(107),r=(t(336),t(250)),c=(t(329),t(268)),u=(t(97),t(50)),o=t(11),i=t.n(o),s=t(22),l=t(8),d=t(14),b=t(9),p=t(7),f=t(10),m=t(30),v=t(28),k=t(108),h=t(794),O=(t(779),t(56)),j=t(813),y=t(902),w=t(52),g=t(0),A=t(29),C=t(21),E=t(609),I=(t(810),function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(b.a)(this,Object(p.a)(n).call(this,e))).state={},t.changeDefaultBank=function(){var e=Object(s.a)(i.a.mark(function e(n,t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!t){e.next=3;break}return e.next=3,t(n);case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),t.remove=function(){var e=Object(s.a)(i.a.mark(function e(n,t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t(n);case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),t}return Object(f.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.user,a=n.intl,o=n.form.getFieldDecorator,i=t&&t.data&&t.data.me,s=i&&i.currentCompany;return g.createElement(k.b,null,g.createElement(u.a,{type:"flex"},g.createElement(O.f,{icon:v.a.Wallet,title:"bank.header.title",description:"bank.header.description"})),s&&g.createElement(j.b,{list:!0},g.createElement(j.a,null,function(n){var t=n.bank,i=t&&t.changeDefaultBankAccount,s=t&&t.bankAccounts&&t.bankAccounts.bankAccounts&&t.bankAccounts.bankAccounts.rows&&t.bankAccounts.bankAccounts.rows.find(function(e){return!!e.default&&e.id}),l=t&&t.removeBankAccount,d=[];return t&&t.bankAccounts&&t.bankAccounts.bankAccounts&&t.bankAccounts.bankAccounts.rows&&(d=t.bankAccounts.bankAccounts.rows.filter(function(e){return!0===e.enabled})),d&&g.createElement(g.Fragment,null,o("default-bank-account",{initialValue:s&&s.id})(g.createElement(r.a.Group,{style:{display:"block"}},g.createElement(h.c,{className:"table-bank-accounts",rows:d,columns:[{dataIndex:"bank_name",key:"bank_name",render:function(e,n,t){return n.iban?n.iban.bank:""},title:a.formatMessage({id:"bank.table.bank_name"})},{className:"table-link",dataIndex:"mandate",key:"mandate",render:function(e,n,t){var a=n&&n.mandates&&n.mandates.find(function(e){return e.status!==y.a.Canceled});return g.createElement(E.a,{className:a?"disabled":"enabled",to:a?"/company/bank/mandate/view/".concat(n.id):"/company/bank/mandate/add/".concat(n.id)},g.createElement(C.b,{id:"bank.table.mandate_".concat(a&&a.status?a.status:y.a.Pending).toLocaleLowerCase()}))},title:a.formatMessage({id:"bank.table.mandate"})},{align:"center",dataIndex:"label",key:"label",render:function(e,n,t){return g.createElement(c.a,{className:"primary"},e)},title:a.formatMessage({id:"bank.table.label"})},{align:"center",dataIndex:"default",key:"default",render:function(n,t,a){return t&&t.mandates&&t.mandates.find(function(e){return e.status!==y.a.Canceled})&&g.createElement(r.a,{onChange:e.changeDefaultBank.bind(null,t.id,i),value:t.id})},title:a.formatMessage({id:"bank.table.default"})},{className:"actions-bank-account",dataIndex:"edit",key:"edit",render:function(n,t,a){var r=t&&t.mandates&&t.mandates.find(function(e){return e.status!==y.a.Canceled});return g.createElement(u.a,{type:"flex"},g.createElement("div",{className:"edit-bank-account"},g.createElement(E.a,{to:"/company/bank/edit/".concat(t.id)},g.createElement(m.a,{value:v.a.Pencil}))),!r&&g.createElement("div",{onClick:e.remove.bind(null,t.id,l),className:"remove-bank-account"},g.createElement(m.a,{value:v.a.Trash})))},title:""}]}))),g.createElement(u.a,{type:"flex",style:{justifyContent:"flex-end",paddingTop:"36px"}},g.createElement("div",{className:"ant-btn ant-btn-default"},g.createElement(E.a,{to:"/company/bank/add"},g.createElement(C.b,{id:"bank.btn.add"})))))})))}}]),n}(g.PureComponent));n.default=Object(A.compose)(C.e,w.b(),a.a.create({}))(I)},779:function(e,n,t){},787:function(e,n,t){},789:function(e,n,t){},794:function(e,n,t){"use strict";t(783);var a=t(781),r=t(8),c=t(14),u=t(9),o=t(7),i=t(10),s=t(16),l=t(82),d=t(267),b=t(0),p=t(29),f=t(21),m=(t(779),function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(u.a)(this,Object(o.a)(n).call(this,e))).state={selectedRowKeys:[]},t.handleRow=t.row.bind(Object(s.a)(Object(s.a)(t))),t.handleHeaderRow=t.headerRow.bind(Object(s.a)(Object(s.a)(t))),t.handleRowClassName=t.rowClassName.bind(Object(s.a)(Object(s.a)(t))),t.handlSelectedRowKeysChange=t.selectedRowKeysChange.bind(Object(s.a)(Object(s.a)(t))),t}return Object(i.a)(n,e),Object(c.a)(n,[{key:"row",value:function(e,n){var t=this.props,a=t.dataSource,r=t.onClickRow;return{onClick:function(){r&&r(a[n])}}}},{key:"headerRow",value:function(e){this.props.onClickHeader&&this.props.onClickHeader(e)}},{key:"selectedRowKeysChange",value:function(e){var n=[];this.props.dataSource.map(function(t){return e.indexOf(t.id)>-1?n.push(t):null}),this.props.onSelectRows&&this.props.onSelectRows(n),this.setState({selectedRowKeys:e})}},{key:"rowClassName",value:function(e,n){var t="";switch(e.status){case l.a.Scanning:case l.a.Importing:case l.a.Imported:t="tr-invoice-loading";break;default:t="tr-invoice"}return e.id&&this.props.selectedId&&e.id===this.props.selectedId&&(t="".concat(t," ant-table-row-selected")),t}},{key:"render",value:function(){var e=this.props,n=e.dataSource,t=e.selectable,r=e.columns,c=(e.intl,e.empty),u=this.state.selectedRowKeys;return b.createElement("div",{className:"table-invoices"},n&&n.length>0?b.createElement(a.a,{pagination:!1,onRow:this.handleRow,rowSelection:t?{onChange:this.handlSelectedRowKeysChange,selectedRowKeys:u}:void 0,rowKey:"id",bordered:!1,rowClassName:this.handleRowClassName,dataSource:n,columns:r}):c)}}]),n}(b.PureComponent)),v=Object(p.compose)(f.e,d.b())(m),k=(t(329),t(268)),h=(t(334),t(273)),O=t(24),j=t(11),y=t.n(j),w=t(22),g=t(30),A=t(28),C=t(88),E=t(248),I=t(609),x=t(196),D=t(198),M=(t(787),function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(u.a)(this,Object(o.a)(n).call(this,e))).state={devises:void 0,limit:8,offset:0,polling:!1},t.handleRowClick=t.rowClick.bind(Object(s.a)(Object(s.a)(t))),t.handleLoadInvoices=t.loadInvoices.bind(Object(s.a)(Object(s.a)(t))),t.handleCtaClick=t.ctaClick.bind(Object(s.a)(Object(s.a)(t))),t}return Object(i.a)(n,e),Object(c.a)(n,[{key:"ctaClick",value:function(e,n){n.stopPropagation(),this.props.onCtaClick&&this.props.onCtaClick(e)}},{key:"rowClick",value:function(e){this.props.onClickRow&&this.props.onClickRow(e)}},{key:"componentDidMount",value:function(){var e=Object(w.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.all();case 2:n=e.sent,this.setState({devises:n});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadInvoices",value:function(e,n){var t=n&&e?e*n-n:void 0;this.setState({limit:n,offset:t})}},{key:"header",value:function(e){var n=this.props.intl;return{className:"td-".concat(e.key),dataIndex:e.key,key:e.key,title:void 0!==e.title?e.title:n.formatMessage({id:"purchase.table.".concat(e.key)}),width:e.width}}},{key:"renderHeaders",value:function(){var e=this,n=this.props,t=n.intl,a=n.headers,r=n.invoicesLoadings;return a&&a.map(function(n){switch(n.key){case"concatened":return Object(O.a)({},e.header(n),{render:function(e,n,t){return"".concat(n.number?"".concat(n.number).concat(n.dueDate?" / ":""):"").concat(n.dueDate?Object(x.d)(n.dueDate).format("DD/MM/YYYY"):"")||""}});case"companyEmitter":return Object(O.a)({},e.header(n),{render:function(e,n,t){return e&&(e.name||e.brandName)?e.name||e.brandName:n.ocrSirenFeedback&&n.ocrSirenFeedback?n.ocrSirenFeedback.name||n.ocrSirenFeedback.brandName:void 0}});case"transactionType":return Object(O.a)({},e.header(Object(O.a)({},n,{title:null,width:50})),{render:function(e,n,t){return b.createElement(E.a,null,function(e){var t=e.balance,a=t&&t.data.balance&&t.data.balance.walletId,r="table-color",c=A.a.Change;return a===n.walletCreditId?(r="table-color-payin",c=A.a.ArrowUp):a===n.walletDebitId&&(r="table-color-payout",c=A.a.ArrowDown),b.createElement(g.a,{className:r,value:c})})}});case"chevron":return Object(O.a)({},e.header(Object(O.a)({},n,{title:null})),{render:function(e,n,t){return b.createElement(g.a,{value:A.a.ChevronRight})}});case"actions":return Object(O.a)({},e.header(Object(O.a)({},n,{title:null,width:20})),{render:function(e,t,a){return b.createElement(C.e,{actions:n.actions,invoice:t})}});case"companyReceiver":return Object(O.a)({},e.header(n),{render:function(e,n,t){return e&&(e.name||e.brandName)?e.name||e.brandName:""}});case"importAt":case"createdDate":case"dueDate":return Object(O.a)({},e.header(n),{render:function(e,n,t){return e&&Object(x.d)(e).format("DD/MM/YYYY")}});case"totalWoT":case"total":return Object(O.a)({},e.header(n),{render:function(n,t,a){var r=e.state.devises,c=r&&r[t.currency]&&r[t.currency].symbol;return n&&"".concat(n," ").concat(c)}});case"amount":return Object(O.a)({},e.header(n),{render:function(n,t,a){var r=e.state.devises,c=r&&r[t.currency]&&r[t.currency].symbol;return b.createElement(E.a,null,function(e){var a,r=e.balance,u=r&&r.data.balance.walletId;return u===t.walletCreditId?a="payin":u===t.walletDebitId&&(a="payout"),b.createElement("span",{className:"table-color-".concat(a)},n&&"".concat(n," ").concat(c))})}});case"walletDebitId":return Object(O.a)({},e.header(n),{render:function(e,n,a){return b.createElement(E.a,null,function(n){var a=n.balance;return(a&&a.data.balance.walletId)===e?t.formatMessage({id:"balance.table.my_libeo_account"}):e})}});case"walletCreditId":return Object(O.a)({},e.header(n),{render:function(e,n,a){return b.createElement(E.a,null,function(n){var a=n.balance;return(a&&a.data.balance.walletId)===e?t.formatMessage({id:"balance.table.my_libeo_account"}):e})}});case"error":return Object(O.a)({},e.header(n),{render:function(e,n,t){return b.createElement(h.a,{status:e?"error":"success",className:"status-".concat(n.status.toLowerCase())})}});case"status":return Object(O.a)({},e.header(n),{render:function(e,n,a){var r=e.toLowerCase(),c="";return e===l.a.Planned&&(c="disabled"),e===l.a.Paid&&(c="success"),{children:b.createElement(k.a,{className:"ant-tag-".concat(c)},t.formatMessage({id:"purchase.table.status_".concat(r)}))}}});case"cta":return Object(O.a)({},e.header(n),{render:function(n,t,a){var c,u=r&&r.indexOf(t.id)>-1;switch(t.status){case l.a.ToPay:c=b.createElement(C.c,{loading:u,onClick:e.handleCtaClick.bind(null,t),type:C.b.Primary,className:"btn-invoice-to-pay"},b.createElement(f.b,{id:"invoice.status.to_pay"}));break;case l.a.Planned:c=b.createElement(C.c,{loading:u,onClick:e.handleCtaClick.bind(null,t),type:C.b.Default,className:"btn-invoice-planned"},b.createElement(f.b,{id:"invoice.status.planned"}));break;case l.a.Scanned:c=b.createElement(I.a,{to:"/invoice/draft/".concat(t.id)},b.createElement(C.c,{loading:u,type:C.b.Primary,className:"btn-invoice-scanned"},b.createElement(f.b,{id:"invoice.status.scanned"})));break;case l.a.Scanning:c=b.createElement(C.c,{disabled:!0,loading:!0,className:"btn-invoice-loading"},b.createElement(f.b,{id:"invoice.status.scanning"}));break;case l.a.Paid:c=null;break;default:c=b.createElement(C.c,{disabled:!0,loading:!0,className:"btn-invoice-loading"},b.createElement(f.b,{id:"invoice.status.upload"}))}return{children:c}},title:null});default:return e.header(n)}})}},{key:"render",value:function(){var e=this.props,n=e.selectable,t=e.invoices,a=e.onSelectRows,r=e.selectedId,c=e.empty;return t&&t.rows?b.createElement(v,{empty:c,selectedId:r,onSelectRows:a,selectable:n,onClickRow:this.handleRowClick,onChangePage:this.handleLoadInvoices,dataSource:t.rows,columns:this.renderHeaders()}):null}}]),n}(b.PureComponent));M.defaultProps={selectable:!1};var N=Object(f.e)(M),B=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(o.a)(n)).call.apply(e,[this].concat(c)))).state={randomImg:Math.round(2*Math.random()),randomText:Math.round(3*Math.random())},t}return Object(i.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e,n=this.props.children,t=this.state,a=t.randomText;switch(t.randomImg){case 1:e=A.a.NoData1;break;case 2:e=A.a.NoData2;break;default:e=A.a.NoData0}return b.createElement("div",{className:"empty-table"},b.createElement("div",{className:"svg-responsive"},b.createElement(g.a,{value:e})),b.createElement(f.b,{id:"purchase.table.no_data_".concat(a)}),n)}}]),n}(b.PureComponent);B.defaultProps={};var q=B,R=(t(97),t(50)),S=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(o.a)(n)).call.apply(e,[this].concat(c)))).state={limit:8,offset:0},t}return Object(i.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.props,n=e.className,t=e.rows,r=(e.hasMore,e.columns);e.intl;return b.createElement(R.a,{style:{width:"100%"}},t&&t.length>0&&b.createElement(a.a,{key:"table",className:n,pagination:!1,rowKey:"id",bordered:!1,dataSource:t,columns:r}))}}]),n}(b.PureComponent);S.defaultProps={};var P=Object(f.e)(S);t(789);t.d(n,"d",function(){return v}),t.d(n,"c",function(){return P}),t.d(n,"b",function(){return N}),t.d(n,"a",function(){return q})},810:function(e,n,t){},813:function(e,n,t){"use strict";var a=t(11),r=t.n(a),c=t(22),u=t(0),o=u.createContext({bank:{bankAccount:void 0,bankAccounts:void 0,changeDefaultBankAccount:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),createMandate:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),createOrUpdate:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),generateCode:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),removeBankAccount:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),removeMandate:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),sign:function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}}),i=o.Provider,s=o.Consumer,l=t(8),d=t(14),b=t(9),p=t(7),f=t(10),m=(t(106),t(44)),v=t(24),k=t(51),h=t(29),O=t(41),j=t(31),y=t(32),w=t.n(y),g=t(45),A=t(168),C=t(61);function E(){var e=Object(j.a)(["\n","\n\nfragment mandate on Mandate {\n  ","\n}"]);return E=function(){return e},e}function I(){var e=Object(j.a)(["\n","\n","\n\nfragment bankAccount on BankAccount {\n  ","\n}"]);return I=function(){return e},e}var x="\n  id\n  treezorMandateId\n  filePath\n  status\n  rum\n  signatoryIp\n  signaturedAt\n  createdAt\n  updatedAt\n",D={bank:{fragment:w()(I(),A.a.fragment,C.a.fragment,"\n  id\n  label\n  default\n  enabled\n"),query:"\n  ...bankAccount\n  company {\n    ".concat(g.a.standalone,"\n  }\n  iban {\n    ").concat(A.a.query,"\n  }\n  mandates {\n    ").concat(x,"\n    signatory {\n      ").concat(C.a.query,"\n    }\n  }\n")},mandate:{fragment:w()(E(),C.a.fragment,x),query:"\n  ...mandate\n  signatory {\n    ".concat(C.a.query,"\n  }\n")}};function M(){var e=Object(j.a)(["\n  ","\n\n  mutation removeMandate($id: ID!) {\n    removeMandate(id: $id) {\n      ","\n    }\n  }\n"]);return M=function(){return e},e}function N(){var e=Object(j.a)(["\n  ","\n\n  mutation signedMandate($id: ID!, $code: String!) {\n    signedMandate(id: $id, code: $code) {\n      ","\n    }\n  }\n"]);return N=function(){return e},e}function B(){var e=Object(j.a)(["\n  ","\n\n  mutation generateCodeMandate($id: ID!) {\n    generateCodeMandate(id: $id) {\n      ","\n    }\n  }\n"]);return B=function(){return e},e}function q(){var e=Object(j.a)(["\n  ","\n\n  query mandate($id: ID!) {\n    mandate(id: $id) {\n      ","\n    }\n  }\n"]);return q=function(){return e},e}function R(){var e=Object(j.a)(["\n  ","\n\n  mutation createMandate($bankAccountId: ID!) {\n    createMandate(bankAccountId: $bankAccountId) {\n      ","\n    }\n  }\n"]);return R=function(){return e},e}function S(){var e=Object(j.a)(["\n  ","\n\n  mutation removeBankAccount($id: ID!) {\n    removeBankAccount(id: $id) {\n      ","\n    }\n  }\n"]);return S=function(){return e},e}function P(){var e=Object(j.a)(["\n  ","\n\n  mutation changeDefaultBankAccount($id: ID!) {\n    changeDefaultBankAccount(id: $id) {\n      ","\n    }\n  }\n"]);return P=function(){return e},e}function $(){var e=Object(j.a)(["\n  ","\n\n  query bankAccount($id: ID!) {\n    bankAccount(id: $id) {\n      ","\n    }\n  }\n"]);return $=function(){return e},e}function _(){var e=Object(j.a)(["\n  ","\n\n  mutation createOrUpdateBankAccount($input: BankAccountInput!, $id: ID) {\n    createOrUpdateBankAccount(input: $input, id: $id) {\n      ","\n    }\n  }\n"]);return _=function(){return e},e}function K(){var e=Object(j.a)(["\n  ","\n\n  query bankAccounts {\n    bankAccounts {\n      total\n      rows {\n        ","\n      }\n    }\n  }\n"]);return K=function(){return e},e}var L=w()(K(),D.bank.fragment,D.bank.query),U=w()(_(),D.bank.fragment,D.bank.query),T=w()($(),D.bank.fragment,D.bank.query),Y=w()(P(),D.bank.fragment,D.bank.query),F=w()(S(),D.bank.fragment,D.bank.query),H=w()(R(),D.mandate.fragment,D.mandate.query),G=(w()(q(),D.mandate.fragment,D.mandate.query),w()(B(),D.mandate.fragment,D.mandate.query)),V=w()(N(),D.mandate.fragment,D.mandate.query),J=w()(M(),D.mandate.fragment,D.mandate.query),Q=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(u)))).state={bank:{bankAccount:void 0,bankAccounts:void 0,changeDefaultBankAccount:function(){var e=Object(c.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.changeDefaultBankAccount({variables:{id:n}});case 3:return a=e.sent,Object(O.a)(t.props.alert,Object(O.b)(a.errors),["bank.form.success_change_default"]),e.abrupt("return",a.data&&a.data.changeDefaultBankAccount);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n){return e.apply(this,arguments)}}(),createMandate:function(){var e=Object(c.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.createMandate({variables:{bankAccountId:n}});case 3:return a=e.sent,Object(O.a)(t.props.alert,Object(O.b)(a.errors),["bank.mandate.success_create"]),e.abrupt("return",a.data&&a.data.createMandate);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n){return e.apply(this,arguments)}}(),createOrUpdate:function(){var e=Object(c.a)(r.a.mark(function e(n,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.createOrUpdateBankAccount({update:function(e,n){var t=n.data;if(!a){var r,c=e.readQuery({query:L});e.writeQuery({data:{bankAccounts:Object(v.a)({},c?c.bankAccounts:{},{rows:(r=[t.createOrUpdateBankAccount]).concat.apply(r,Object(m.a)(c&&c.bankAccounts?c.bankAccounts.rows:[])),total:c&&c.bankAccounts?c.bankAccounts.total+1:1})},query:L})}},variables:{input:n,id:a}});case 3:return c=e.sent,Object(O.a)(t.props.alert,Object(O.b)(c.errors),[a?"bank.form.success_updated":"bank.form.success_add"]),e.abrupt("return",c.data&&c.data.createOrUpdateBankAccount);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n,t){return e.apply(this,arguments)}}(),generateCode:function(){var e=Object(c.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.generateCodeMandate({variables:{id:n}});case 3:return a=e.sent,e.abrupt("return",!a.errors);case 7:e.prev=7,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(n){return e.apply(this,arguments)}}(),removeBankAccount:function(){var e=Object(c.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.removeBankAccount({variables:{id:n}});case 3:return a=e.sent,Object(O.a)(t.props.alert,Object(O.b)(a.errors),["bank.row.success_remove"]),e.abrupt("return",a.data&&a.data.removeBankAccount);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n){return e.apply(this,arguments)}}(),removeMandate:function(){var e=Object(c.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.removeMandate({variables:{id:n}});case 3:return a=e.sent,Object(O.a)(t.props.alert,Object(O.b)(a.errors),["bank.mandate.success_remove"]),e.abrupt("return",a.data&&a.data.removeMandate);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n){return e.apply(this,arguments)}}(),sign:function(){var e=Object(c.a)(r.a.mark(function e(n,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.signedMandate({variables:{id:n,code:a}});case 3:return c=e.sent,Object(O.a)(t.props.alert,Object(O.b)(c.errors),["bank.mandate.success_sign"]),e.abrupt("return",c.data&&c.data.signedMandate);case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)(t.props.alert,Object(O.b)(e.t0));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(n,t){return e.apply(this,arguments)}}()}},t}return Object(f.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.dataBankAccounts,t=e.dataBankAccount;return u.createElement(i,{value:{bank:Object(v.a)({},this.state.bank,{bankAccount:t,bankAccounts:n})}},this.props.children)}}]),n}(u.PureComponent),W=Object(h.compose)(h.withApollo,k.b(),Object(h.graphql)(U,{name:"createOrUpdateBankAccount"}),Object(h.graphql)(H,{name:"createMandate"}),Object(h.graphql)(Y,{name:"changeDefaultBankAccount"}),Object(h.graphql)(G,{name:"generateCodeMandate"}),Object(h.graphql)(V,{name:"signedMandate"}),Object(h.graphql)(F,{name:"removeBankAccount"}),Object(h.graphql)(J,{name:"removeMandate"}),Object(h.graphql)(L,{props:function(e){return{dataBankAccounts:e.data}},skip:function(e){return!e.list}}),Object(h.graphql)(T,{options:function(e){return{variables:{id:e.id}}},props:function(e){return{dataBankAccount:e.data}},skip:function(e){return!e.id}}))(Q);t.d(n,"b",function(){return W}),t.d(n,"a",function(){return s})},902:function(e,n,t){"use strict";var a;t.d(n,"a",function(){return a}),function(e){e.Pending="PENDING",e.Validated="VALIDATED",e.Canceled="CANCELED",e.Signed="SIGNED"}(a||(a={}))}}]);
//# sourceMappingURL=37.215d1083.chunk.js.map