(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{1291:function(e,t,a){"use strict";a.r(t);a(166);var r=a(107),n=(a(97),a(50)),c=(a(131),a(43)),o=a(11),s=a.n(o),i=a(24),u=a(22),p=a(8),l=a(14),d=a(9),f=a(10),b=a(7),m=a(773),y=a(16),h=a(266),v=a(269),k=a(0),O=a(29),j=a(21),E=a(473),g=a(772),S=a(770),x=a(906),L=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(b.a)(t).call(this,e))).state={btnLoading:!1},a.save=Object(m.a)(Object(b.a)(t.prototype),"save",Object(y.a)(a)).bind(Object(y.a)(Object(y.a)(a))),a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"save",value:function(){var e=Object(u.a)(s.a.mark(function e(){var a=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.load(),e.next=4,new Promise(function(e,r){a.props.form.validateFields(function(){var n=Object(u.a)(s.a.mark(function n(c,o){var u,p,l,d;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c){n.next=11;break}if(a.setState({btnLoading:!0}),u=a.props,p=u.company,l=u.tempCompany,d=Object(i.a)({},l,{addresses:[Object(i.a)({},l&&l.addresses&&l.addresses[0],{address1:o.address1,address2:o.address2,city:o.city,country:o.country,zipcode:parseInt(o.zipcode,10)})]}),!p||!p.create){n.next=9;break}return n.next=7,p.create(void 0,d);case 7:n.sent?(Object(m.a)(Object(b.a)(t.prototype),"save",a).call(a),e()):(a.onError(),r());case 9:n.next=12;break;case 11:a.onError();case 12:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),this.onError(),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,a=e.tempCompany,r=e.form,o=e.intl,s=(e.location,a&&a.addresses&&a.addresses&&a.addresses[0]&&a.addresses[0]);return Object(m.a)(Object(b.a)(t.prototype),"_render",this).call(this,k.createElement(k.Fragment,null,k.createElement(n.a,{gutter:28},k.createElement(c.a,{xs:24,lg:12})),k.createElement(n.a,{gutter:28},k.createElement(c.a,{xs:24,lg:12},k.createElement(h.o,{defaultValue:s&&s.address1,id:"address1",label:k.createElement(j.b,{id:"kyc.company.form_address1"}),rules:[{message:o.formatMessage({id:"kyc.company.form_address1_error"}),required:!0}],form:r}))),k.createElement(n.a,{gutter:28},k.createElement(c.a,{xs:24,lg:12},k.createElement(h.o,{defaultValue:s&&s.address2,id:"address2",label:k.createElement(j.b,{id:"kyc.company.form_address2"}),form:r}))),k.createElement(n.a,{gutter:28},k.createElement(c.a,{xs:12,lg:6},k.createElement(h.o,{defaultValue:s&&s.zipcode,id:"zipcode",label:k.createElement(j.b,{id:"kyc.company.form_zipcode"}),form:r})),k.createElement(c.a,{xs:12,lg:6},k.createElement(h.o,{defaultValue:s&&s.city,id:"city",label:k.createElement(j.b,{id:"kyc.company.form_city"}),form:r}))),k.createElement(n.a,{gutter:28},k.createElement(c.a,{xs:24,lg:12},k.createElement(h.o,{defaultValue:s&&s.country,id:"country",label:k.createElement(j.b,{id:"kyc.company.form_country"}),form:r})))))}}]),t}(S.a);L.defaultProps={kycProps:{bottomBar:!0,btn:"kyc.bottom.confirm",btnLater:"kyc.bottom.later",btnLaterLink:"/",btnLink:"/kyc/personal-information",headingDescription:"kyc.company.description",headingTitle:"kyc.company.title",nextStep:"PERSONNAL_INFORMATION",step:"COMPANY"}},t.default=Object(O.compose)(r.a.create({}),E.a,x.b(),g.b(),v.c(),j.e)(L)},770:function(e,t,a){"use strict";var r=a(11),n=a.n(r),c=a(22),o=a(8),s=a(14),i=a(9),u=a(7),p=a(10),l=a(16),d=a(56),f=a(0),b=a(62),m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleLater=a.later.bind(Object(l.a)(Object(l.a)(a))),a.handleSave=a.save.bind(Object(l.a)(Object(l.a)(a))),a.handleError=a.onError.bind(Object(l.a)(Object(l.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"load",value:function(){this.props.kycSetState&&this.props.kycSetState({btnLoading:!0})}},{key:"later",value:function(){var e=Object(c.a)(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.kyc.btnLaterLink)&&b.a.push(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onError",value:function(){var e=Object(c.a)(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.kycSetState&&this.props.kycSetState({btnLaterLoading:!1,btnLoading:!1});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(c.a)(n.a.mark(function e(){var t,a,r,c,o,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.company,r=t.kycSetState,c=t.kyc,o=c.nextStep,s=c.btnLink,r({btnLoading:!0}),!o||!a){e.next=5;break}return e.next=5,a.step(o);case 5:return r({btnLoading:!1}),s&&b.a.push(s),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.offValidateStep,a=e.offValidateLater;t&&t(this.handleSave),a&&a(this.handleLater)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onValidateStep,a=e.onValidateLater;t&&t(this.handleSave),a&&a(this.handleLater),this.props.kycSetState&&this.props.kycSetState(this.props.kycProps)}},{key:"_render",value:function(e){var t=this.props,a=t.kycProps,r=t.user,n=r&&r.data&&r.data.me,c=n&&n.currentCompany&&(n.currentCompany.name||n.currentCompany.brandName),o=a&&a.headingTitle,s=a&&a.headingDescription;return f.createElement("div",{className:"kyc-children"},o&&f.createElement("div",null,f.createElement(d.f,{titleVariables:{company:c},title:o,description:s})),e)}}]),t}(f.PureComponent);m.defaultProps={},t.a=m},773:function(e,t,a){"use strict";var r=a(7);function n(e,t,a){return(n="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(n){var c=Object.getOwnPropertyDescriptor(n,t);return c.get?c.get.call(a):c.value}})(e,t,a||e)}a.d(t,"a",function(){return n})}}]);
//# sourceMappingURL=117.8a40bdfe.chunk.js.map