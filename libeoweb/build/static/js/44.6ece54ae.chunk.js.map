{"version":3,"sources":["screens/Kyc/BottomBar.tsx","screens/Kyc/SidebarItem.tsx","screens/Kyc/Sidebar.tsx","screens/Kyc/KycWrapper.tsx","screens/Kyc/index.tsx","screens/Kyc/context/context.tsx","screens/Kyc/context/hoc.tsx","screens/Kyc/context/index.tsx"],"names":["BottomBarFix","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this$props","_this$props$kyc","kyc","bottomBar","btnLoading","btnLaterLoading","btnLater","btnDisabled","btn","validateStep","validateLater","react","Layout","visible","style","display","flex","justifyContent","Button","loading","onClick","marginRight","type","BtnType","Default","index_es","id","disabled","Primary","React","compose","KycCtx","SidebarItem","row","className","concat","done","active","col","index","title","Assets","value","IconValue","Lock","color","description","defaultProps","Sidebar","steps","undefined","name","current","currentStep","map","step","i","sidebarItem","Kyc_SidebarItem","assign","key","Kyc","children","user","match","data","currentCompany","params","padding","reverse","Company","Kyc_Sidebar","BottomBar","User","withRouter","Intro","__webpack_require__","e","then","bind","Personal","Beneficiary","Sign","Iban","location","me","pathname","pathIndex","indexOf","kycStep","Redirect","to","context","KycWrapper","Route","exact","path","component","Context","btnLaterLink","btnLink","nextStep","sidebar","kycSetState","offValidateLater","offValidateStep","onValidateLater","onValidateStep","Consumer","composedProvider","Provider","btnLinkLater","setState","objectSpread","event","removeListener","addListener","emit","events","EventEmitter","withKycHoc","Component","_React$Component","WithKycHoc","apply","arguments","inherits","createClass","d","__webpack_exports__","hoc"],"mappings":"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","file":"static/js/44.6ece54ae.chunk.js","sourcesContent":["import { BtnType, Button } from 'components/Button';\nimport { FloatingActionFooter } from 'components/Layout';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { FormattedMessage } from 'react-intl';\nimport * as KycCtx from './context';\n\ninterface IProps extends KycCtx.InjectedProps {}\ninterface IState {}\n\nclass BottomBarFix extends React.PureComponent<IProps, IState> {\n  state = {};\n\n  constructor(props: any) {\n    super(props);\n  }\n\n  render() {\n    const {\n      kyc: {\n        bottomBar,\n        btnLoading,\n        btnLaterLoading,\n        btnLater,\n        btnDisabled,\n        btn,\n      },\n      validateStep,\n      validateLater,\n    } = this.props;\n\n    return bottomBar ? (\n      <FloatingActionFooter visible={true}>\n        <div\n          style={{\n            display: 'flex',\n            flex: 1,\n            justifyContent: 'flex-end',\n          }}\n        >\n          {btnLater && (\n            <Button\n              loading={btnLaterLoading}\n              onClick={validateLater}\n              style={{ marginRight: 50 }}\n              type={BtnType.Default}\n            >\n              <FormattedMessage id={btnLater} />\n            </Button>\n          )}\n          {btn && (\n            <Button\n              disabled={btnDisabled || false}\n              loading={btnLoading}\n              onClick={validateStep}\n              style={{ marginRight: 50 }}\n              type={BtnType.Primary}\n            >\n              <FormattedMessage id={btn} />\n            </Button>\n          )}\n        </div>\n      </FloatingActionFooter>\n    ) : null;\n  }\n}\n\nexport default compose(KycCtx.hoc())(BottomBarFix);\n","import { Col, Row } from 'antd';\nimport { Icon } from 'components/Assets';\nimport { IconValue } from 'components/Assets/Icon';\nimport { OnboardingStep } from 'context/Common/types';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\ninterface IProps {\n  active?: boolean;\n  className?: string;\n  description?: string;\n  done?: boolean;\n  index: number;\n  title: string;\n}\ninterface IState {}\n\nclass SidebarItem extends React.PureComponent<IProps, IState> {\n  static defaultProps = {\n    description: '',\n    title: '',\n  };\n\n  state = {};\n\n  render() {\n    return (\n      <Row\n        className={`kyc-sidebar-item${\n          this.props.className ? ` ${this.props.className}` : ''\n        }${this.props.done ? ' done' : ''}${\n          this.props.active ? ' active' : ' disabled'\n        }`}\n      >\n        <Col className=\"kyc-sidebar-item-index\">{`${this.props.index}`}</Col>\n        <Col\n          style={{\n            flex: 1,\n          }}\n        >\n          <div className=\"kyc-sidebar-item-title\">\n            <FormattedMessage id={this.props.title} />\n            {!this.props.done && !this.props.active && (\n              <Icon value={IconValue.Lock} color=\"white\" />\n            )}\n            {this.props.done && '✅'}\n          </div>\n          <div className=\"kyc-sidebar-item-description\">\n            {this.props.description && (\n              <FormattedMessage id={this.props.description} />\n            )}\n          </div>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default SidebarItem;\n","import { OnboardingStep } from 'context/Common/types';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport * as KycCtx from './context';\nimport SidebarItem from './SidebarItem';\n\ntype stepType =\n  | 'intro'\n  | 'company'\n  | 'beneficiary'\n  | 'personal-information'\n  | 'sign'\n  | 'iban';\n\ninterface IStep {\n  name: stepType;\n  visible: boolean;\n  title?: string;\n  description?: string;\n}\n\ninterface IProps extends KycCtx.InjectedProps {\n  current: stepType;\n}\n\ninterface IState {\n  steps: IStep[];\n}\n\nclass Sidebar extends React.PureComponent<IProps, IState> {\n  static defaultProps = {\n    current: 'intro',\n  };\n\n  state = {\n    steps: [\n      {\n        description: undefined,\n        name: 'intro',\n        title: undefined,\n        visible: false,\n      },\n      {\n        description: 'kyc.sidebar.company_description',\n        name: 'company',\n        title: 'kyc.sidebar.company_title',\n        visible: true,\n      },\n      {\n        description: 'kyc.sidebar.personal_information_description',\n        name: 'personal-information',\n        title: 'kyc.sidebar.personal_information_title',\n        visible: true,\n      },\n      {\n        description: 'kyc.sidebar.beneficiary_description',\n        name: 'beneficiary',\n        title: 'kyc.sidebar.beneficiary_title',\n        visible: true,\n      },\n      {\n        description: 'kyc.sidebar.sign_description',\n        name: 'sign',\n        title: 'kyc.sidebar.sign_title',\n        visible: true,\n      },\n      {\n        description: undefined,\n        name: 'iban',\n        title: undefined,\n        visible: false,\n      },\n    ] as IStep[],\n  };\n\n  render() {\n    const { steps } = this.state;\n    const { current } = this.props;\n    let currentStep: IStep = steps[0];\n    steps.map((step: IStep) => {\n      if (step.name === current) {\n        currentStep = step;\n      }\n    });\n    let active: boolean = true;\n\n    return (\n      <div\n        className={`kyc-sidebar-outer kyc-sidebar-outer-${\n          currentStep.name && currentStep.visible ? 'visible' : 'hidden'\n        }`}\n      >\n        <div\n          className={`kyc-sidebar kyc-sidebar-${currentStep.name} kyc-sidebar-${\n            currentStep.name && currentStep.visible ? 'visible' : 'hidden'\n          }`}\n        >\n          {steps.map((step: IStep, i: number) => {\n            const sidebarItem = step.visible && (\n              <SidebarItem\n                {...step}\n                active={active}\n                done={active && currentStep.name !== step.name}\n                key={`${i}`}\n                index={i}\n              />\n            );\n            if (currentStep.name === step.name) {\n              active = false;\n            }\n            return sidebarItem;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default compose(KycCtx.hoc())(Sidebar);\n","import { Content } from 'components/Layout';\nimport * as Company from 'context/Company';\nimport * as User from 'context/User';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport BottomBar from './BottomBar';\nimport './Kyc.module.less';\nimport Sidebar from './Sidebar';\n\ninterface IProps extends User.InjectedProps, RouteComponentProps {}\ninterface IState {}\n\nclass Kyc extends React.PureComponent<IProps, IState> {\n  state = {};\n\n  render() {\n    const { children, user } = this.props;\n    const currentCompany = user && user.data && user.data.currentCompany;\n\n    const match: any = this.props.match;\n    const step: any =\n      match.params && match.params.step ? match.params.step : 'intro';\n\n    return (\n      <Content\n        style={{\n          padding: 0,\n        }}\n        reverse={step === 'intro' || step === 'iban'}\n      >\n        <div className=\"kyc-outter\">\n          <div className={`kyc-wrapper kyc-${step}`}>\n            <Company.Provider>{children}</Company.Provider>\n          </div>\n          <Sidebar current={step} />\n        </div>\n        <BottomBar />\n      </Content>\n    );\n  }\n}\n\nexport default compose(\n  User.hoc(),\n  withRouter,\n)(Kyc);\n","import { KycRoute } from 'components/Route';\nimport * as User from 'context/User';\nimport * as React from 'react';\nimport { Redirect, RouteComponentProps, withRouter } from 'react-router';\nimport * as KycCtx from './context';\nimport './Kyc.module.less';\nimport KycWrapper from './KycWrapper';\n\nconst Intro = React.lazy(() => import('./1Intro/index'));\nconst Company = React.lazy(() => import('./2Company/index'));\nconst Personal = React.lazy(() => import('./3Personal/index'));\nconst Beneficiary = React.lazy(() => import('./4Beneficiary/index'));\nconst Sign = React.lazy(() => import('./5Sign/index'));\nconst Iban = React.lazy(() => import('./6Iban/index'));\n\ninterface IProps extends User.InjectedProps, RouteComponentProps {}\ninterface IState {}\n\nclass Kyc extends React.PureComponent<IProps, IState> {\n  render() {\n    const { location, user } = this.props;\n    const me = user && user.data && user.data.me;\n\n    if (!me) {\n      return <></>;\n    }\n\n    const currentCompany: any = me.currentCompany;\n    const pathname: string = location.pathname;\n\n    const pathnames: string[] = [\n      '/kyc',\n      '/kyc/company',\n      '/kyc/company/address',\n      '/kyc/personal-information',\n      '/kyc/personal-information/part-1',\n      '/kyc/personal-information/part-2',\n      '/kyc/personal-information/part-3',\n      '/kyc/personal-information/part-4',\n      '/kyc/beneficiary',\n      '/kyc/beneficiary/part-1',\n      '/kyc/beneficiary/part-2',\n      '/kyc/beneficiary/part-3',\n      '/kyc/beneficiary/part-4',\n      '/kyc/sign',\n      '/kyc/iban',\n    ];\n\n    const pathIndex: number = pathnames.indexOf(pathname);\n    const kycStep: string = currentCompany && currentCompany.kycStep;\n\n    if (pathIndex === -1) {\n      return <Redirect to={{ pathname: '/kyc' }} />;\n    }\n    if (!currentCompany) {\n      if (pathIndex > 2) {\n        return <Redirect to={{ pathname: '/kyc' }} />;\n      }\n    } else if (kycStep) {\n      if (\n        kycStep.indexOf('PERSONNAL_INFORMATION_PART_4') > -1 &&\n        pathIndex !== 7\n      ) {\n        return (\n          <Redirect to={{ pathname: '/kyc/personal-information/part-4' }} />\n        );\n      }\n      if (\n        kycStep.indexOf('PERSONNAL_INFORMATION_PART_3') > -1 &&\n        pathIndex !== 6\n      ) {\n        return (\n          <Redirect to={{ pathname: '/kyc/personal-information/part-3' }} />\n        );\n      }\n      if (\n        kycStep.indexOf('PERSONNAL_INFORMATION_PART_2') > -1 &&\n        pathIndex !== 5\n      ) {\n        return (\n          <Redirect to={{ pathname: '/kyc/personal-information/part-2' }} />\n        );\n      }\n      if (\n        kycStep.indexOf('PERSONNAL_INFORMATION') > -1 &&\n        (pathIndex > 7 || pathIndex < 3)\n      ) {\n        return <Redirect to={{ pathname: '/kyc/personal-information' }} />;\n      }\n      if (\n        kycStep.indexOf('BENEFICIARIES') > -1 &&\n        (pathIndex > 12 || pathIndex < 8)\n      ) {\n        return <Redirect to={{ pathname: '/kyc/beneficiary' }} />;\n      }\n      if (kycStep.indexOf('SIGN') > -1 && (pathIndex > 13 || pathIndex < 13)) {\n        return <Redirect to={{ pathname: '/kyc/sign' }} />;\n      }\n      if (kycStep.indexOf('IBAN') > -1 && pathIndex < 14) {\n        return <Redirect to={{ pathname: '/kyc/iban' }} />;\n      }\n    }\n\n    return (\n      <KycCtx.Provider>\n        <KycWrapper>\n          <KycRoute exact path=\"/kyc\" component={Intro} />\n          <KycRoute path=\"/kyc/company/:view?\" component={Company} />\n          <KycRoute\n            path=\"/kyc/personal-information/:view?\"\n            component={Personal}\n          />\n          <KycRoute path=\"/kyc/beneficiary/:view?\" component={Beneficiary} />\n          <KycRoute path=\"/kyc/sign\" component={Sign} />\n          <KycRoute path=\"/kyc/iban\" component={Iban} />\n        </KycWrapper>\n      </KycCtx.Provider>\n    );\n  }\n}\n\nexport default User.hoc()(withRouter(Kyc));\n","import events, { EventEmitter } from 'events';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\n\ninterface IKycParams {\n  bottomBar?: boolean;\n  sidebar?: boolean;\n  step?: string;\n  nextStep?: string;\n  bottombar?: boolean;\n  btn?: string;\n  btnDisabled?: boolean;\n  btnLink?: string;\n  btnLater?: string;\n  btnLaterLink?: string;\n  btnLoading?: boolean;\n  btnLaterLoading?: boolean;\n}\n\nexport interface IKycContext {\n  kyc: IKycParams;\n  kycSetState: (params: IKycParams) => void;\n  validateStep: () => void;\n  onValidateStep: (event: () => void) => void;\n  offValidateStep: (event: () => void) => void;\n  validateLater: () => void;\n  onValidateLater: (event: () => void) => void;\n  offValidateLater: (event: () => void) => void;\n}\n\nconst Context = React.createContext<IKycContext>({\n  kyc: {\n    bottomBar: undefined,\n    btn: undefined,\n    btnLater: undefined,\n    btnLaterLink: undefined,\n    btnLaterLoading: undefined,\n    btnLink: undefined,\n    btnLoading: undefined,\n    nextStep: undefined,\n    sidebar: undefined,\n    step: undefined,\n  },\n  kycSetState: () => {},\n  offValidateLater: () => {},\n  offValidateStep: () => {},\n  onValidateLater: () => {},\n  onValidateStep: () => {},\n  validateLater: () => {},\n  validateStep: () => {},\n});\n\nconst Consumer = Context.Consumer;\n\ninterface IProps {}\n\ninterface IState extends IKycContext {}\n\nclass Provider extends React.PureComponent<IProps, IState> {\n  state = {\n    kyc: {\n      bottomBar: undefined,\n      btn: undefined,\n      btnLater: undefined,\n      btnLaterLoading: undefined,\n      btnLink: undefined,\n      btnLinkLater: undefined,\n      btnLoading: undefined,\n      nextStep: undefined,\n      sidebar: undefined,\n      step: undefined,\n    },\n    kycSetState: (params: IKycParams) => {\n      this.setState({\n        ...this.state,\n        kyc: {\n          ...this.state.kyc,\n          ...params,\n        },\n      });\n    },\n    offValidateLater: (event: () => void) => {\n      this.onValidateLater &&\n        this.onValidateLater.removeListener &&\n        this.onValidateLater.removeListener('onValidateLater', event);\n    },\n    offValidateStep: (event: () => void) => {\n      this.onValidateStep &&\n        this.onValidateStep.removeListener &&\n        this.onValidateStep.removeListener('onValidateStep', event);\n    },\n    onValidateLater: (event: () => void) => {\n      this.onValidateLater &&\n        this.onValidateLater.addListener &&\n        this.onValidateLater.addListener('onValidateLater', event);\n    },\n    onValidateStep: (event: () => void) => {\n      this.onValidateStep &&\n        this.onValidateStep.addListener &&\n        this.onValidateStep.addListener('onValidateStep', event);\n    },\n    validateLater: () => {\n      this.onValidateLater && this.onValidateLater.emit('onValidateLater');\n    },\n    validateStep: () => {\n      this.onValidateStep && this.onValidateStep.emit('onValidateStep');\n    },\n  };\n\n  onValidateStep?: EventEmitter;\n  onValidateLater?: EventEmitter;\n  constructor(props: any) {\n    super(props);\n    this.onValidateStep = new events.EventEmitter();\n    this.onValidateLater = new events.EventEmitter();\n  }\n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nconst composedProvider = Provider;\n\nexport { composedProvider as Provider, Consumer };\n","import * as React from 'react';\nimport { wrapDisplayName } from 'recompose';\nimport { Consumer, IKycContext } from './context';\n\nconst withKycHoc = () => <P extends object>(\n  // Component: React.ComponentType<P & IKycContext>\n  Component: React.ComponentType<P>,\n) => {\n  type ResultProps = P & Partial<IKycContext>;\n\n  class WithKycHoc extends React.Component<ResultProps> {\n    render() {\n      return (\n        <Consumer>\n          {props => {\n            return <Component {...this.props} {...props} />;\n          }}\n        </Consumer>\n      );\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    (WithKycHoc as any).displayName = wrapDisplayName(Component, 'withKycHoc');\n  }\n\n  return WithKycHoc;\n};\n\nexport default withKycHoc;\n","import { Consumer, IKycContext, Provider } from './context';\nimport hoc from './hoc';\n\nexport interface InjectedProps extends IKycContext {}\n\nexport { Provider, Consumer, hoc };\n"],"sourceRoot":""}