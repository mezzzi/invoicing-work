(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1314:function(e,t,a){"use strict";a.r(t);a(166);var n=a(107),r=a(11),i=a.n(r),c=a(22),o=a(8),s=a(14),l=a(9),u=a(7),p=a(773),m=a(10),b=a(16),f=a(56),y=a(778),d=a(269),h=a(0),v=a(29),k=a(21),g=a(772),E=a(770),j=(a(97),a(50)),O=(a(131),a(43)),S=a(266),_=a(776),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={btnDisabled:!1},a.handleSubmit=a.submit.bind(Object(b.a)(Object(b.a)(a))),a.handleLater=a.later.bind(Object(b.a)(Object(b.a)(a))),a.handleBur=a.blur.bind(Object(b.a)(Object(b.a)(a))),a.onChangeType=a.changeType.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"changeType",value:function(e){var t=this.props.updateValues;t&&t({controllingPersonType:e})}},{key:"blur",value:function(){var e=this.props,t=e.updateValues,a=e.form;t&&t(a.getFieldsValue())}},{key:"getBeneficiary",value:function(e){var t=parseInt(e.controllingPersonType,10);return{controllingPersonType:t,incomeRange:e.incomeRange,occupation:1===t?"actionnaire":e.occupation,personalAssets:e.personalAssets,taxResidence:e.taxResidence}}},{key:"later",value:function(){var e=this.props.form.getFieldsValue();this.props.onSave&&this.props.onSave(!1,this.getBeneficiary(e))}},{key:"submit",value:function(){var e=this,t=this.props.kycSetState;t({btnLoading:!0}),this.props.form.validateFields(function(){var a=Object(c.a)(i.a.mark(function a(n,r){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n?t({btnLoading:!1}):e.props.onSave&&e.props.onSave(!0,e.getBeneficiary(r));case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.offValidateStep,a=e.offValidateLater;t&&t(this.handleSubmit),a&&a(this.handleLater)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onValidateStep,a=e.onValidateLater;t&&t(this.handleSubmit),a&&a(this.handleLater)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.intl,r=e.beneficiary,i=e.className,c=e.values,o=c?c&&parseInt(c.controllingPersonType,10):r&&r.controllingPersonType;return h.createElement(n.a,{method:"#",className:i,onSubmit:this.handleSubmit},h.createElement(j.a,{gutter:55},h.createElement(O.a,{className:"gutter-box",span:16},h.createElement(S.k,{onChangeSelect:this.onChangeType,onBlur:this.handleBur,defaultValue:o&&"".concat(o),showSearch:!0,id:"controllingPersonType",label:h.createElement(k.b,{id:"kyc.beneficiary.form_beneficiary_type"}),rules:[{message:a.formatMessage({id:"kyc.beneficiary.form_beneficiary_type_error"}),required:!0}],form:t,options:[h.createElement(S.g,{value:"",key:"0"},"\xa0"),h.createElement(S.g,{value:"1",key:"1"},h.createElement(k.b,{id:"kyc.beneficiary.form_beneficiary_type_1"})),h.createElement(S.g,{value:"2",key:"2"},h.createElement(k.b,{id:"kyc.beneficiary.form_beneficiary_type_2"})),h.createElement(S.g,{value:"3",key:"3"},h.createElement(k.b,{id:"kyc.beneficiary.form_beneficiary_type_3"}))]}))),1!==o&&h.createElement(j.a,{gutter:55},h.createElement(O.a,{className:"gutter-box",span:16},h.createElement(S.o,{onBlur:this.handleBur,defaultValue:r&&r.occupation,form:t,label:h.createElement(k.b,{id:"kyc.beneficiary.form_job"}),id:"occupation",rules:[{message:a.formatMessage({id:"kyc.beneficiary.form_job_error"}),required:!0}]}))),h.createElement(j.a,{gutter:55},h.createElement(O.a,{className:"gutter-box",span:8},h.createElement(S.k,{onBlur:this.handleBur,defaultValue:r&&r.incomeRange,showSearch:!0,id:"incomeRange",label:h.createElement(k.b,{id:"kyc.beneficiary.form_income"}),rules:[{message:a.formatMessage({id:"kyc.beneficiary.form_income_error"}),required:!0}],form:t,options:[h.createElement(S.g,{value:"",key:"1"},"\xa0"),h.createElement(S.g,{key:"0-18",value:"0-18"},"0-18000 \u20ac"),h.createElement(S.g,{key:"19-23",value:"19-23"},"19000-23000 \u20ac"),h.createElement(S.g,{key:"24-27",value:"24-27"},"24000-27000 \u20ac"),h.createElement(S.g,{key:"28-35",value:"28-35"},"28000-35000 \u20ac"),h.createElement(S.g,{key:"36-56",value:"36-56"},"36000-56000 \u20ac"),h.createElement(S.g,{key:"57",value:"57"},"57000 \u20ac")]})),h.createElement(O.a,{className:"gutter-box",span:8},h.createElement(S.k,{onBlur:this.handleBur,defaultValue:r&&r.personalAssets,showSearch:!0,id:"personalAssets",label:h.createElement(k.b,{id:"kyc.beneficiary.form_patrimony"}),rules:[{message:a.formatMessage({id:"kyc.beneficiary.form_patrimony_error"}),required:!0}],form:t,options:[h.createElement(S.g,{value:"",key:"1"},"\xa0"),h.createElement(S.g,{key:"0-2",value:"0-2"},"0-2000 \u20ac"),h.createElement(S.g,{key:"3-22",value:"3-22"},"3000-22000 \u20ac"),h.createElement(S.g,{key:"23-128",value:"23-128"},"23000-128000 \u20ac"),h.createElement(S.g,{key:"129-319",value:"129-319"},"129000-319000 \u20ac"),h.createElement(S.g,{key:"320-464",value:"320-464"},"320000-464000 \u20ac"),h.createElement(S.g,{key:"465-",value:"465-"},"465000 \u20ac")]}))),r&&("FR"!==r.country||"FR"!==r.birthCountry||"FR"!==r.nationality)&&h.createElement(h.Fragment,null,h.createElement(j.a,null,h.createElement("div",{className:"kyc-subtitle"},h.createElement(k.b,{id:"kyc.personal_information.tax_residence_title"}))),h.createElement(j.a,{gutter:55},h.createElement(O.a,{className:"gutter-box",span:16},h.createElement(S.o,{onBlur:this.handleBur,defaultValue:r&&r.taxResidence,form:t,label:h.createElement(k.b,{id:"kyc.personal_information.tax_residence"}),id:"taxResidence",rules:[{message:a.formatMessage({id:"kyc.personal_information.tax_residence_error"}),required:!0}]})))))}}]),t}(h.PureComponent),L=Object(v.compose)(n.a.create({}),k.e,_.b(),g.b())(x),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.submit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"later",value:function(){var e=Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(c.a)(i.a.mark(function e(a,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a||Object(p.a)(Object(u.a)(t.prototype),"later",this).call(this),!(r=this.props.saveBeneficiary)){e.next=5;break}return e.next=5,r(n);case 5:a&&this.save();case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props,t=e.currentStep,a=e.nextUrl,n=e.kycSetState,r=e.nextStep;n&&n({bottomBar:!0,btn:"kyc.bottom.confirm",btnLater:"kyc.bottom.later",btnLaterLink:"/",btnLink:a,nextStep:r,step:"".concat(t,"_PART_3")})}},{key:"render",value:function(){var e=this.props,a=e.tempBeneficiary,n=e.location,r=e.values,i=n.pathname.replace(/\//g,".").replace(/-/g,"_").substr(1);return Object(p.a)(Object(u.a)(t.prototype),"_render",this).call(this,h.createElement("div",{className:"kyc-personal-info-3"},h.createElement("div",null,h.createElement(f.f,{titleVariables:{firstname:r.firstname||"",lastname:r.lastname||""},title:"".concat(i,"_title"),description:"".concat(i,"_description")})),h.createElement(L,{onSave:this.handleSubmit,onLater:this.handleSubmit,beneficiary:a})))}}]),t}(E.a);w.defaultProps={};t.default=Object(v.compose)(y.b(),n.a.create({}),_.b(),d.c(),g.b(),k.e)(w)},770:function(e,t,a){"use strict";var n=a(11),r=a.n(n),i=a(22),c=a(8),o=a(14),s=a(9),l=a(7),u=a(10),p=a(16),m=a(56),b=a(0),f=a(62),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={},a.handleLater=a.later.bind(Object(p.a)(Object(p.a)(a))),a.handleSave=a.save.bind(Object(p.a)(Object(p.a)(a))),a.handleError=a.onError.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"load",value:function(){this.props.kycSetState&&this.props.kycSetState({btnLoading:!0})}},{key:"later",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.kyc.btnLaterLink)&&f.a.push(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onError",value:function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.kycSetState&&this.props.kycSetState({btnLaterLoading:!1,btnLoading:!1});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,a,n,i,c,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.company,n=t.kycSetState,i=t.kyc,c=i.nextStep,o=i.btnLink,n({btnLoading:!0}),!c||!a){e.next=5;break}return e.next=5,a.step(c);case 5:return n({btnLoading:!1}),o&&f.a.push(o),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.offValidateStep,a=e.offValidateLater;t&&t(this.handleSave),a&&a(this.handleLater)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onValidateStep,a=e.onValidateLater;t&&t(this.handleSave),a&&a(this.handleLater),this.props.kycSetState&&this.props.kycSetState(this.props.kycProps)}},{key:"_render",value:function(e){var t=this.props,a=t.kycProps,n=t.user,r=n&&n.data&&n.data.me,i=r&&r.currentCompany&&(r.currentCompany.name||r.currentCompany.brandName),c=a&&a.headingTitle,o=a&&a.headingDescription;return b.createElement("div",{className:"kyc-children"},c&&b.createElement("div",null,b.createElement(m.f,{titleVariables:{company:i},title:c,description:o})),e)}}]),t}(b.PureComponent);y.defaultProps={},t.a=y},773:function(e,t,a){"use strict";var n=a(7);function r(e,t,a){return(r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(a):i.value}})(e,t,a||e)}a.d(t,"a",function(){return r})}}]);
//# sourceMappingURL=16.f73157a2.chunk.js.map