(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{1293:function(t,e,n){"use strict";n.r(e);n(166);var a=n(107),r=n(11),c=n.n(r),o=n(22),i=n(8),s=n(14),u=n(9),p=n(7),l=n(773),f=n(10),b=n(16),h=n(266),d=n(269),m=n(0),y=n(29),v=n(21),k=n(804),O=n(196),j=n(772),g=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(p.a)(e).call(this,t))).state={btnDisabled:!1,btnLoading:!1,contract:void 0,pages:0},n.handleOnDocumentComplete=n.onDocumentComplete.bind(Object(b.a)(Object(b.a)(n))),n}return Object(f.a)(e,t),Object(s.a)(e,[{key:"onDocumentComplete",value:function(t){this.setState({pages:t})}},{key:"later",value:function(){var t=Object(o.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(l.a)(Object(p.a)(e.prototype),"later",this).call(this));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=Object(o.a)(c.a.mark(function t(){var n=this;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.props.form.validateFields(function(){var t=Object(o.a)(c.a.mark(function t(a,r){var o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=7;break}if(n.setState({btnLoading:!0}),!(o=n.props.company)||!o.signContract){t.next=6;break}return t.next=6,o.signContract();case 6:return t.abrupt("return",Object(l.a)(Object(p.a)(e.prototype),"save",n).call(n));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(o.a)(c.a.mark(function t(){var n,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(l.a)(Object(p.a)(e.prototype),"componentDidMount",this).call(this),!(n=this.props.company)||!n.getContract){t.next=7;break}return t.next=5,n.getContract();case 5:(a=t.sent)&&this.setState({contract:a});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,n=(t.company,t.form),a=t.intl,r=this.state,c=r.pages,o=r.contract;return Object(l.a)(Object(p.a)(e.prototype),"_render",this).call(this,m.createElement(m.Fragment,null,m.createElement("div",{className:"sign-contract-wrapper"},o&&m.createElement(k.a,{scale:5,className:"sign-contract",onDocumentComplete:this.handleOnDocumentComplete,file:Object(O.b)(o),page:1}),c-1>0&&Array.from(Array(c-1).keys()).map(function(t,e){return o&&m.createElement(k.a,{key:"".concat(e),className:"sign-contract",file:Object(O.b)(o),page:e+2})})),m.createElement("div",{className:"sign-contract-checkbox"},m.createElement(h.a,{id:"accept",label:m.createElement(v.b,{id:"kyc.sign.accept"}),rules:[{message:a.formatMessage({id:"kyc.sign.accept_error"}),required:!0}],form:n}))))}}]),e}(n(770).a);g.defaultProps={kycProps:{bottomBar:!0,btn:"kyc.bottom.confirm",btnLater:"kyc.bottom.later",btnLaterLink:"/",btnLink:"/kyc/iban",headingDescription:"kyc.sign.description",headingTitle:"kyc.sign.title",nextStep:"IBAN",step:"SIGN"}},e.default=Object(y.compose)(d.c(),j.b(),a.a.create({}),v.e)(g)},770:function(t,e,n){"use strict";var a=n(11),r=n.n(a),c=n(22),o=n(8),i=n(14),s=n(9),u=n(7),p=n(10),l=n(16),f=n(56),b=n(0),h=n(62),d=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t))).state={},n.handleLater=n.later.bind(Object(l.a)(Object(l.a)(n))),n.handleSave=n.save.bind(Object(l.a)(Object(l.a)(n))),n.handleError=n.onError.bind(Object(l.a)(Object(l.a)(n))),n}return Object(p.a)(e,t),Object(i.a)(e,[{key:"load",value:function(){this.props.kycSetState&&this.props.kycSetState({btnLoading:!0})}},{key:"later",value:function(){var t=Object(c.a)(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.props.kyc.btnLaterLink)&&h.a.push(e),t.abrupt("return",!0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"onError",value:function(){var t=Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.props.kycSetState&&this.props.kycSetState({btnLaterLoading:!1,btnLoading:!1});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=Object(c.a)(r.a.mark(function t(){var e,n,a,c,o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.company,a=e.kycSetState,c=e.kyc,o=c.nextStep,i=c.btnLink,a({btnLoading:!0}),!o||!n){t.next=5;break}return t.next=5,n.step(o);case 5:return a({btnLoading:!1}),i&&h.a.push(i),t.abrupt("return",!0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var t=this.props,e=t.offValidateStep,n=t.offValidateLater;e&&e(this.handleSave),n&&n(this.handleLater)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.onValidateStep,n=t.onValidateLater;e&&e(this.handleSave),n&&n(this.handleLater),this.props.kycSetState&&this.props.kycSetState(this.props.kycProps)}},{key:"_render",value:function(t){var e=this.props,n=e.kycProps,a=e.user,r=a&&a.data&&a.data.me,c=r&&r.currentCompany&&(r.currentCompany.name||r.currentCompany.brandName),o=n&&n.headingTitle,i=n&&n.headingDescription;return b.createElement("div",{className:"kyc-children"},o&&b.createElement("div",null,b.createElement(f.f,{titleVariables:{company:c},title:o,description:i})),t)}}]),e}(b.PureComponent);d.defaultProps={},e.a=d},773:function(t,e,n){"use strict";var a=n(7);function r(t,e,n){return(r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(a.a)(t)););return t}(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(n):c.value}})(t,e,n||t)}n.d(e,"a",function(){return r})},792:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=792},823:function(t,e){},824:function(t,e){},825:function(t,e){},826:function(t,e){},827:function(t,e){}}]);
//# sourceMappingURL=120.bbe84db5.chunk.js.map