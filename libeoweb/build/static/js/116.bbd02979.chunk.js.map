{"version":3,"sources":["screens/Kyc/2Company/Form1.tsx","screens/Kyc/Manager.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","utils/legal-form.ts"],"names":["Form1","props","_this","Object","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","this","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_11__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__","call","state","btnDisabled","btnLoading","companySelectedFromAutocomplete","legalForms","handleSelect","select","bind","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__","handleSearch","search","handleAddNew","addNew","handleScrollEnd","scrollEnd","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_13__","prototype","legalForm","all","setState","form","validateFields","_ref","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default","a","mark","_callee2","err","values","_this2$props","updateTempCompany","tempCompany","company","wrap","_context2","prev","next","_this2","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","brandName","capital","parseFloat","incorporationAt","name","siren","siret","slice","abrupt","stop","_x","_x2","apply","arguments","more","item","resetFields","complementaryInfos","temp","__typename","_this$props2","_this$props3","undefined","FormCompany","_this$props4","intl","_this$state","react__WEBPACK_IMPORTED_MODULE_22__","antd_es_row__WEBPACK_IMPORTED_MODULE_3__","gutter","antd_es_col__WEBPACK_IMPORTED_MODULE_5__","xs","lg","components_Form__WEBPACK_IMPORTED_MODULE_18__","defaultValue","id","label","react_intl__WEBPACK_IMPORTED_MODULE_24__","rules","message","formatMessage","required","showSearch","options","keys","map","key","i","value","toPickerDate","components_Search__WEBPACK_IMPORTED_MODULE_19__","onValueChange","footer","className","onClick","components_Assets__WEBPACK_IMPORTED_MODULE_16__","IconValue","ArrowReturn","placeholder","type","inline","onSelect","Manager","defaultProps","kycProps","bottomBar","step","btn","btnLink","btnLater","btnLaterLink","headingDescription","headingTitle","compose","antd_es_form__WEBPACK_IMPORTED_MODULE_1__","create","KycCtx","Company","Siren","withRouter","TempCompany","injectIntl","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","handleLater","later","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleSave","save","handleError","onError","kycSetState","kyc","history","push","btnLaterLoading","nextStep","offValidateStep","offValidateLater","onValidateStep","onValidateLater","node","user","me","data","currentCompany","react__WEBPACK_IMPORTED_MODULE_9__","components_Typo__WEBPACK_IMPORTED_MODULE_8__","titleVariables","title","description","React","get_get","target","property","receiver","Reflect","get","base","object","hasOwnProperty","getPrototypeOf","_superPropBase","desc","getOwnPropertyDescriptor","__webpack_require__","d","__webpack_exports__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","_callee","response","_context","fetch","sent","json"],"mappings":"iXA2BMA,cA4BJ,SAAAA,EAAYC,GAAY,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACtBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAZRQ,MAAQ,CACNC,aAAa,EACbC,YAAY,EACZC,iCAAiC,EACjCC,WAAY,IASZX,EAAKY,aAAeZ,EAAKa,OAAOC,KAAZb,OAAAc,EAAA,EAAAd,QAAAc,EAAA,EAAAd,CAAAD,KACpBA,EAAKgB,aAAehB,EAAKiB,OAAOH,KAAZb,OAAAc,EAAA,EAAAd,QAAAc,EAAA,EAAAd,CAAAD,KACpBA,EAAKkB,aAAelB,EAAKmB,OAAOL,KAAZb,OAAAc,EAAA,EAAAd,QAAAc,EAAA,EAAAd,CAAAD,KACpBA,EAAKoB,gBAAkBpB,EAAKqB,UAAUP,KAAfb,OAAAc,EAAA,EAAAd,QAAAc,EAAA,EAAAd,CAAAD,KALDA,wMAStBC,OAAAqB,EAAA,EAAArB,QAAAI,EAAA,EAAAJ,CAAAH,EAAAyB,WAAA,oBAAApB,MAAAG,KAAAH,eACyBqB,IAAUC,aAA7Bd,SACNR,KAAKuB,SAAS,CAAEf,0QAIhBR,KAAKJ,MAAM4B,KAAKC,eAAhB,eAAAC,EAAA5B,OAAA6B,EAAA,EAAA7B,CAAA8B,EAAAC,EAAAC,KAA+B,SAAAC,EAAOC,EAAUC,GAAjB,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,EAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACxBT,EADwB,CAAAO,EAAAE,KAAA,eAE3BC,EAAKnB,SAAS,CAAEjB,YAAY,IAFD4B,EAGgBQ,EAAK9C,MAAxCuC,EAHmBD,EAGnBC,kBAAmBC,EAHAF,EAGAE,YASrBC,EAZqBvC,OAAA6C,EAAA,EAAA7C,CAAA,GAatBsC,EAbsB,CAczBQ,UAAWX,EAAOW,UAClBC,QAASC,WAAWb,EAAOY,SAC3BE,gBAAiBd,EAAOc,gBACxB1B,UAAWY,EAAOZ,UAClB2B,KAAMf,EAAOe,KACbC,MAAOhB,EAAOiB,MAAMC,MAAM,EAAG,GAC7BD,MAAOjB,EAAOiB,QApBWX,EAAAE,KAAA,EAuBrBN,EAAkBE,GAvBG,cAAAE,EAAAa,OAAA,SAAAtD,OAAAqB,EAAA,EAAArB,QAAAI,EAAA,EAAAJ,CAAAH,EAAAyB,WAAA,OAAAsB,GAAAvC,KAAAuC,IAAA,wBAAAH,EAAAc,SAAAtB,MAA/B,gBAAAuB,EAAAC,GAAA,OAAA7B,EAAA8B,MAAAxD,KAAAyD,YAAA,uBA2BO,uIAGCC,GACRA,GAAQA,2EAGGC,wFACgC3D,KAAKJ,MAAxCuC,sBAAmBc,UAAOzB,SAC9Ba,EAAUsB,EACdnC,EAAKoC,gBAEDD,GAAQA,EAAKV,OAASA,GAASA,EAAMY,oDACpBZ,EAAMY,mBAAmBF,EAAKV,eAA3Ca,mBAEIA,EAAaC,WACrB1B,EAAOvC,OAAA6C,EAAA,EAAA7C,CAAA,GACFuC,EACAyB,WAKT3B,EAAkBE,GAElBrC,KAAKuB,SAAS,CACZlB,aAAa,EACbE,iCAAiC,yIAI5B,IAAAyD,EAC6BhE,KAAKJ,MAAjCuC,EADD6B,EACC7B,kBADD6B,EACoBxC,KACtBoC,cACLzB,EAAkB,IAElBnC,KAAKuB,SAAS,CACZlB,aAAa,EACbE,iCAAiC,qCAI5B,IAAA0D,EAC2CjE,KAAKJ,MAA/CuC,EADD8B,EACC9B,kBADD8B,EACoB7B,YADpB6B,EACiChB,MACxCd,OAAkB+B,GAElBlE,KAAKuB,SAAS,CACZlB,aAAa,EACbE,iCAAiC,qCAI5B,IAIH4D,EAJGC,EAC6BpE,KAAKJ,MAAjCyE,EADDD,EACCC,KAAM7C,EADP4C,EACO5C,KAAMY,EADbgC,EACahC,YADbkC,EAEiDtE,KAAKI,MAApBI,GAFlC8D,EAEC/D,gCAFD+D,EAEkC9D,YAGzC,GAA2B,qBAAhB4B,EAA6B,CACtC,IAAMC,EAAyBD,EAC/B+B,EACEI,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAAC,EAAA,GAAKC,OAAQ,IACXF,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,IACfL,EAAA,cAACM,EAAA,EAAD,CACEC,aAAezC,GAAWA,EAAQW,MAASX,EAAQO,UACnDmC,GAAG,OACHC,MAAOT,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,0BAC5BG,MAAO,CACL,CACEC,QAASd,EAAKe,cAAc,CAC1BL,GAAI,gCAENM,UAAU,IAGd7D,KAAMA,MAIZ+C,EAAA,cAAAC,EAAA,GAAKC,OAAQ,IACXF,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,GACfL,EAAA,cAACM,EAAA,EAAD,CACEC,aACEzC,GAAWA,EAAQhB,UAAYgB,EAAQhB,UAAY,KAErDiE,YAAU,EACVP,GAAG,YACHC,MAAOT,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,+BAC5BG,MAAO,CACL,CACEC,QAASd,EAAKe,cAAc,CAC1BL,GAAI,qCAENM,UAAU,IAGd7D,KAAMA,EACN+D,QAASzF,OAAO0F,KAAKhF,GAAYiF,IAC/B,SAACC,EAAaC,GACZ,OACEpB,EAAA,cAACM,EAAA,EAAD,CAAca,IAAKA,EAAKE,MAAOF,GAC3BlF,EAAmBkF,SAOjCnB,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,GACfL,EAAA,cAACM,EAAA,EAAD,CACEC,aAAczC,GAAWA,EAAQa,MACjC6B,GAAG,QACHC,MAAOT,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,2BAC5BG,MAAO,CACL,CACEC,QAASd,EAAKe,cAAc,CAC1BL,GAAI,iCAENM,UAAU,IAGd7D,KAAMA,MAIZ+C,EAAA,cAAAC,EAAA,GAAKC,OAAQ,IACXF,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,GACfL,EAAA,cAACM,EAAA,EAAD,CACEC,aAAczC,GAAWA,EAAQQ,QACjCkC,GAAG,UACHC,MAAOT,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,6BAC5BG,MAAO,CACL,CACEC,QAASd,EAAKe,cAAc,CAC1BL,GAAI,mCAENM,UAAU,IAGd7D,KAAMA,KAGV+C,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,GACfL,EAAA,cAACM,EAAA,EAAD,CACEC,aACEzC,EAAQU,gBACJ8C,YAAaxD,EAAQU,iBACrB,KAENgC,GAAG,kBACHC,MACET,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,qCAEvBG,MAAO,CACL,CACEC,QAASd,EAAKe,cAAc,CAC1BL,GAAI,2CAENM,UAAU,IAGd7D,KAAMA,OAQlB,OAAO1B,OAAAqB,EAAA,EAAArB,QAAAI,EAAA,EAAAJ,CAAAH,EAAAyB,WAAA,UAAApB,MAAAG,KAAAH,KACLuE,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAAC,EAAA,GAAKC,OAAQ,IACXF,EAAA,cAAAG,EAAA,GAAKC,GAAI,GAAIC,GAAI,IACfL,EAAA,cAACuB,EAAA,EAAD,CACEC,cAAe/F,KAAKa,aACpBmF,OACEzB,EAAA,yBACEA,EAAA,qBAAK0B,UAAU,eACb1B,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,oCAEvBR,EAAA,qBAAK2B,QAASlG,KAAKe,aAAckF,UAAU,cACzC1B,EAAA,cAAC4B,EAAA,EAAD,CAAMP,MAAOQ,IAAUC,cACvB9B,EAAA,cAACU,EAAA,EAAD,CAAkBF,GAAG,oCAI3BuB,YAAY,iCACZC,KAAK,YACLC,QAAQ,EACRC,SAAUzG,KAAKS,iBAIpB0D,WAvQWuC,KAAd/G,EACGgH,aAAe,CACpBC,SAAU,CACRC,WAAW,EACXC,KAAM,UAENC,IAAK,qBACLC,QAAS,uBAETC,SAAU,mBACVC,aAAc,IAEdC,mBAAoB,0BACpBC,aAAc,sBAiQLC,4BACbC,EAAA,EAAKC,OAAO,IACZC,MACAC,MACAC,MACAC,IACAC,MACAC,IAPaR,CAQb1H,sIC7QI+G,cAWJ,SAAAA,EAAY9G,GAAY,IAAAC,EAAA,OAAAC,OAAAgI,EAAA,EAAAhI,CAAAE,KAAA0G,IACtB7G,EAAAC,OAAAiI,EAAA,EAAAjI,CAAAE,KAAAF,OAAAkI,EAAA,EAAAlI,CAAA4G,GAAAvG,KAAAH,KAAMJ,KANRQ,MAAgC,GAQ9BP,EAAKoI,YAAcpI,EAAKqI,MAAMvH,KAAXb,OAAAqI,EAAA,EAAArI,QAAAqI,EAAA,EAAArI,CAAAD,KACnBA,EAAKuI,WAAavI,EAAKwI,KAAK1H,KAAVb,OAAAqI,EAAA,EAAArI,QAAAqI,EAAA,EAAArI,CAAAD,KAClBA,EAAKyI,YAAczI,EAAK0I,QAAQ5H,KAAbb,OAAAqI,EAAA,EAAArI,QAAAqI,EAAA,EAAArI,CAAAD,KALGA,sEAStBG,KAAKJ,MAAM4I,aACTxI,KAAKJ,MAAM4I,YAAY,CACrBlI,YAAY,yJAMP4G,EACLlH,KAAKJ,MADP6I,IAAOvB,eAEOwB,IAAQC,KAAKzB,sBACtB,+OAIPlH,KAAKJ,MAAM4I,aACTxI,KAAKJ,MAAM4I,YAAY,CACrBI,iBAAiB,EACjBtI,YAAY,kQASZN,KAAKJ,MAHPyC,YACAmG,oBACAC,IAAOI,aAAU7B,YAEnBwB,EAAY,CAAElI,YAAY,KAEtBuI,IAAYxG,kCACRA,EAAQyE,KAAK+B,iBAErBL,EAAY,CAAElI,YAAY,IAC1B0G,GAAW0B,IAAQC,KAAK3B,sBACjB,oJAGc,IAAAhD,EACyBhE,KAAKJ,MAA3CkJ,EADa9E,EACb8E,gBAAiBC,EADJ/E,EACI+E,iBACzBD,GAAmBA,EAAgB9I,KAAKoI,YACxCW,GAAoBA,EAAiB/I,KAAKiI,yDAGxB,IAAAhE,EAC0BjE,KAAKJ,MAAzCoJ,EADU/E,EACV+E,eAAgBC,EADNhF,EACMgF,gBACxBD,GAAkBA,EAAehJ,KAAKoI,YACtCa,GAAmBA,EAAgBjJ,KAAKiI,aAExCjI,KAAKJ,MAAM4I,aAAexI,KAAKJ,MAAM4I,YAAYxI,KAAKJ,MAAMgH,0CAGtDsC,GAAuB,IAAA9E,EACFpE,KAAKJ,MAAxBgH,EADqBxC,EACrBwC,SAAUuC,EADW/E,EACX+E,KACZC,EAAKD,GAAQA,EAAKE,MAAQF,EAAKE,KAAKD,GACpC/G,EACJ+G,GACAA,EAAGE,iBACFF,EAAGE,eAAetG,MAAQoG,EAAGE,eAAe1G,WAEzCwE,EAAeR,GAAYA,EAASQ,aACpCD,EAAqBP,GAAYA,EAASO,mBAEhD,OACEoC,EAAA,qBAAKtD,UAAU,gBACZmB,GACCmC,EAAA,yBACEA,EAAA,cAACC,EAAA,EAAD,CACEC,eAAgB,CACdpH,WAEFqH,MAAOtC,EACPuC,YAAaxC,KAIlB+B,UA7FCU,iBAHJlD,EAIGC,aAAuC,GAqGjCD,mDC3IA,SAASmD,EAAIC,EAAAC,EAAAC,GAiB5B,OAfIH,EADJ,qBAAAI,iBAAAC,IACQD,QAAAC,IAEA,SAAAJ,EAAAC,EAAAC,GACR,IAAAG,ECNe,SAAAC,EAAAL,GACf,MAAAjK,OAAAsB,UAAAiJ,eAAAlK,KAAAiK,EAAAL,IAEA,QADAK,EAAatK,OAAAwK,EAAA,EAAAxK,CAAcsK,MAI3B,OAAAA,EDAiBG,CAAaT,EAAAC,GAC9B,GAAAI,EAAA,CACA,IAAAK,EAAA1K,OAAA2K,yBAAAN,EAAAJ,GAEA,OAAAS,EAAAN,IACAM,EAAAN,IAAA/J,KAAA6J,GAGAQ,EAAA5E,SAIakE,EAAAC,EAAAC,GAAAF,GAnBbY,EAAAC,EAAAC,EAAA,sBAAAf,0CEAIxI,2BAEEC,EAAG,eAAAI,EAAA5B,OAAA+K,EAAA,EAAA/K,CAAAgL,EAAAjJ,EAAAC,KAAG,SAAAiJ,IAAA,IAAAC,EAAA,OAAAF,EAAAjJ,EAAAS,KAAA,SAAA2I,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAxI,MAAA,UACLpB,EADK,CAAA4J,EAAAxI,KAAA,eAAAwI,EAAAxI,KAAA,EAEeyI,MAAM,oBAFrB,cAEFF,EAFEC,EAAAE,KAAAF,EAAAxI,KAAA,EAGUuI,EAASI,OAHnB,OAGR/J,EAHQ4J,EAAAE,KAAA,cAAAF,EAAA7H,OAAA,SAMH/B,GANG,wBAAA4J,EAAA5H,SAAA0H,MAAH,yBAAArJ,EAAA8B,MAAAxD,KAAAyD,YAAA,GASMmH,EAAA,GACbtJ","file":"static/js/116.bbd02979.chunk.js","sourcesContent":["import { Col, Form, Row } from 'antd';\nimport { Icon } from 'components/Assets';\nimport { IconValue } from 'components/Assets/Icon';\nimport { Date, Select, SelectOption, Text } from 'components/Form';\nimport { AutocompleteSiren } from 'components/Search';\nimport * as Company from 'context/Company';\nimport { IInputCompany } from 'context/Company/types';\nimport * as Siren from 'context/Siren';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { withRouter } from 'react-router';\nimport { toPickerDate } from 'utils/common';\nimport legalForm from 'utils/legal-form';\nimport * as KycCtx from '../context';\nimport Manager, { IManagerProps, IManagerState } from '../Manager';\nimport * as TempCompany from './context/index';\n\ninterface IProps\n  extends IManagerProps,\n    TempCompany.InjectedProps,\n    Siren.InjectedProps {}\ninterface IState extends IManagerState {\n  companySelectedFromAutocomplete: boolean;\n  legalForms: any;\n}\n\nclass Form1 extends Manager<IProps, IState> {\n  static defaultProps = {\n    kycProps: {\n      bottomBar: true,\n      step: 'COMPANY',\n\n      btn: 'kyc.bottom.confirm',\n      btnLink: '/kyc/company/address',\n\n      btnLater: 'kyc.bottom.later',\n      btnLaterLink: '/',\n\n      headingDescription: 'kyc.company.description',\n      headingTitle: 'kyc.company.title',\n    },\n  };\n\n  state = {\n    btnDisabled: true,\n    btnLoading: false,\n    companySelectedFromAutocomplete: false,\n    legalForms: {},\n  };\n\n  handleSelect: (item: IInputCompany) => void;\n  handleSearch: () => void;\n  handleAddNew: () => void;\n  handleScrollEnd: (more: any) => void;\n  constructor(props: any) {\n    super(props);\n    this.handleSelect = this.select.bind(this);\n    this.handleSearch = this.search.bind(this);\n    this.handleAddNew = this.addNew.bind(this);\n    this.handleScrollEnd = this.scrollEnd.bind(this);\n  }\n\n  async componentDidMount() {\n    super.componentDidMount();\n    const legalForms = await legalForm.all();\n    this.setState({ legalForms });\n  }\n\n  async save() {\n    this.props.form.validateFields(async (err: any, values: any) => {\n      if (!err) {\n        this.setState({ btnLoading: true });\n        const { updateTempCompany, tempCompany } = this.props;\n\n        // if (tempCompany) {\n        //   delete tempCompany.capital;\n        // }\n        // if (tempCompany) {\n        //   delete tempCompany.phone;\n        // }\n\n        const company: IInputCompany = {\n          ...tempCompany,\n          brandName: values.brandName,\n          capital: parseFloat(values.capital),\n          incorporationAt: values.incorporationAt,\n          legalForm: values.legalForm,\n          name: values.name,\n          siren: values.siret.slice(0, 9),\n          siret: values.siret,\n        };\n\n        await updateTempCompany(company);\n        return super.save();\n      }\n    });\n    return false;\n  }\n\n  scrollEnd(more: any) {\n    more && more();\n  }\n\n  async select(item: IInputCompany) {\n    const { updateTempCompany, siren, form } = this.props;\n    let company = item;\n    form.resetFields();\n\n    if (item && item.siren && siren && siren.complementaryInfos) {\n      const temp = await siren.complementaryInfos(item.siren);\n      if (temp) {\n        delete (temp as any).__typename;\n        company = {\n          ...company,\n          ...temp,\n        };\n      }\n    }\n\n    updateTempCompany(company);\n\n    this.setState({\n      btnDisabled: false,\n      companySelectedFromAutocomplete: true,\n    });\n  }\n\n  addNew() {\n    const { updateTempCompany, form } = this.props;\n    form.resetFields();\n    updateTempCompany({});\n\n    this.setState({\n      btnDisabled: false,\n      companySelectedFromAutocomplete: false,\n    });\n  }\n\n  search() {\n    const { updateTempCompany, tempCompany, siren } = this.props;\n    updateTempCompany(undefined);\n\n    this.setState({\n      btnDisabled: true,\n      companySelectedFromAutocomplete: false,\n    });\n  }\n\n  render() {\n    const { intl, form, tempCompany } = this.props;\n    const { companySelectedFromAutocomplete, legalForms } = this.state;\n\n    let FormCompany: React.ReactNode;\n    if (typeof tempCompany !== 'undefined') {\n      const company: IInputCompany = tempCompany;\n      FormCompany = (\n        <>\n          <Row gutter={28}>\n            <Col xs={24} lg={12}>\n              <Text\n                defaultValue={(company && company.name) || company.brandName}\n                id=\"name\"\n                label={<FormattedMessage id=\"kyc.company.form_name\" />}\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.company.form_name_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n              />\n            </Col>\n          </Row>\n          <Row gutter={28}>\n            <Col xs={12} lg={6}>\n              <Select\n                defaultValue={\n                  company && company.legalForm ? company.legalForm : null\n                }\n                showSearch\n                id=\"legalForm\"\n                label={<FormattedMessage id=\"kyc.company.form_legalForm\" />}\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.company.form_legalForm_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n                options={Object.keys(legalForms).map(\n                  (key: string, i: number) => {\n                    return (\n                      <SelectOption key={key} value={key}>\n                        {(legalForms as any)[key]}\n                      </SelectOption>\n                    );\n                  },\n                )}\n              />\n            </Col>\n            <Col xs={12} lg={6}>\n              <Text\n                defaultValue={company && company.siret}\n                id=\"siret\"\n                label={<FormattedMessage id=\"kyc.company.form_siret\" />}\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.company.form_siret_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n              />\n            </Col>\n          </Row>\n          <Row gutter={28}>\n            <Col xs={12} lg={6}>\n              <Text\n                defaultValue={company && company.capital}\n                id=\"capital\"\n                label={<FormattedMessage id=\"kyc.company.form_capital\" />}\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.company.form_capital_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n              />\n            </Col>\n            <Col xs={12} lg={6}>\n              <Date\n                defaultValue={\n                  company.incorporationAt\n                    ? toPickerDate(company.incorporationAt)\n                    : null\n                }\n                id=\"incorporationAt\"\n                label={\n                  <FormattedMessage id=\"kyc.company.form_incorporationAt\" />\n                }\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.company.form_incorporationAt_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    }\n\n    return super._render(\n      <>\n        <Row gutter={28}>\n          <Col xs={24} lg={12}>\n            <AutocompleteSiren\n              onValueChange={this.handleSearch}\n              footer={\n                <div>\n                  <div className=\"footer-hint\">\n                    <FormattedMessage id=\"kyc.company.search_footer_hint\" />\n                  </div>\n                  <div onClick={this.handleAddNew} className=\"footer-cta\">\n                    <Icon value={IconValue.ArrowReturn} />\n                    <FormattedMessage id=\"kyc.company.search_footer_cta\" />\n                  </div>\n                </div>\n              }\n              placeholder=\"kyc.company.search_placeholder\"\n              type=\"companies\"\n              inline={true}\n              onSelect={this.handleSelect}\n            />\n          </Col>\n        </Row>\n        {FormCompany}\n      </>,\n    );\n  }\n}\n\n// export default Form1;\nexport default compose(\n  Form.create({}),\n  KycCtx.hoc(),\n  Company.hoc(),\n  Siren.hoc(),\n  withRouter,\n  TempCompany.hoc(),\n  injectIntl,\n)(Form1);\n","import { FormComponentProps } from 'antd/lib/form';\nimport { Heading } from 'components/Typo';\nimport * as Company from 'context/Company';\nimport * as User from 'context/User';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { InjectedIntlProps } from 'react-intl';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport history from 'store/history';\nimport BottomBar from './BottomBar';\nimport * as KycCtx from './context';\n\nexport interface IManagerProps\n  extends RouteComponentProps,\n    FormComponentProps,\n    Company.InjectedProps,\n    User.InjectedProps,\n    InjectedIntlProps,\n    KycCtx.InjectedProps {\n  kycProps: {\n    headingTitle?: string;\n    headingDescription?: string;\n    sidebar?: boolean;\n    step?: string;\n    nextStep?: string;\n    bottomBar?: boolean;\n    btn?: string;\n    btnDisabled?: boolean;\n    btnLink?: string;\n    btnLater?: string;\n    btnLaterLink?: string;\n  };\n}\n\nexport interface IManagerState {}\n\nclass Manager<\n  P extends IManagerProps,\n  S extends IManagerState & any\n> extends React.PureComponent<P, S & any> {\n  static defaultProps: Partial<IManagerProps> = {};\n\n  state: Partial<IManagerState> = {};\n\n  handleLater: () => Promise<boolean | undefined>;\n  handleSave: () => Promise<boolean | undefined>;\n  handleError: () => void;\n  constructor(props: any) {\n    super(props);\n\n    this.handleLater = this.later.bind(this);\n    this.handleSave = this.save.bind(this);\n    this.handleError = this.onError.bind(this);\n  }\n\n  load() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLoading: true,\n      });\n  }\n\n  async later(): Promise<boolean | undefined> {\n    const {\n      kyc: { btnLaterLink },\n    } = this.props;\n    btnLaterLink && history.push(btnLaterLink as string);\n    return true;\n  }\n\n  async onError() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLaterLoading: false,\n        btnLoading: false,\n      });\n  }\n\n  async save(): Promise<boolean | undefined> {\n    const {\n      company,\n      kycSetState,\n      kyc: { nextStep, btnLink },\n    } = this.props;\n    kycSetState({ btnLoading: true });\n\n    if (nextStep && company) {\n      await company.step(nextStep);\n    }\n    kycSetState({ btnLoading: false });\n    btnLink && history.push(btnLink);\n    return true;\n  }\n\n  componentWillUnmount() {\n    const { offValidateStep, offValidateLater } = this.props;\n    offValidateStep && offValidateStep(this.handleSave);\n    offValidateLater && offValidateLater(this.handleLater);\n  }\n\n  componentDidMount() {\n    const { onValidateStep, onValidateLater } = this.props;\n    onValidateStep && onValidateStep(this.handleSave);\n    onValidateLater && onValidateLater(this.handleLater);\n\n    this.props.kycSetState && this.props.kycSetState(this.props.kycProps);\n  }\n\n  _render(node: React.ReactNode) {\n    const { kycProps, user } = this.props;\n    const me = user && user.data && user.data.me;\n    const company =\n      me &&\n      me.currentCompany &&\n      (me.currentCompany.name || me.currentCompany.brandName);\n\n    const headingTitle = kycProps && kycProps.headingTitle;\n    const headingDescription = kycProps && kycProps.headingDescription;\n\n    return (\n      <div className=\"kyc-children\">\n        {headingTitle && (\n          <div>\n            <Heading\n              titleVariables={{\n                company,\n              }}\n              title={headingTitle}\n              description={headingDescription}\n            />\n          </div>\n        )}\n        {node}\n      </div>\n    );\n  }\n}\n\n// export default compose(\n//   KycCtx.hoc()\n// )(Manager);\nexport default Manager;\n","import getPrototypeOf from \"./getPrototypeOf\";\nimport superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","let legalForm: any;\n\nconst all = async () => {\n  if (!legalForm) {\n    const response = await fetch('/legal-form.json');\n    legalForm = await response.json();\n  }\n\n  return legalForm;\n};\n\nexport default {\n  all,\n};\n"],"sourceRoot":""}