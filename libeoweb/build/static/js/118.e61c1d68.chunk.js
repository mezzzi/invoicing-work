(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{1292:function(e,t,r){"use strict";r.r(t);r(166);var n=r(107),a=(r(97),r(50)),i=r(11),c=r.n(i),s=r(22),o=r(8),u=r(14),p=r(9),l=r(7),b=r(773),f=r(10),d=r(266),h=r(778),y=r(269),m=r(0),v=r(29),k=r(21),O=r(772),j=r(776),_=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={btnDisabled:!1,hasError:!1},r}return Object(f.a)(t,e),Object(u.a)(t,[{key:"later",value:function(){var e=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.a)(Object(l.a)(t.prototype),"later",this).call(this));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(s.a)(c.a.mark(function e(){var r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.form.validateFields(function(){var e=Object(s.a)(c.a.mark(function e(n,a){var i,s,o,u,p,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.beneficiary){e.next=12;break}if(i=r.props.updateTempBeneficiary,u={},p=r.props.beneficiaries&&r.props.beneficiaries.beneficiaries&&r.props.beneficiaries.beneficiaries.beneficiaries&&r.props.beneficiaries.beneficiaries.beneficiaries.rows||[],"not_beneciary"!==a.beneficiary?(s=parseInt(a.beneficiary,10),f=p.find(function(e){return e.userId===s}),o=f&&f.employeeType?f&&0===f.employeeType?2:f.employeeType:2):o=3,delete u.__typename,!i){e.next=9;break}return e.next=9,i(s,o);case 9:return e.abrupt("return",Object(b.a)(Object(l.a)(t.prototype),"save",r).call(r));case 12:r.setState({hasError:!0});case 13:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()),e.abrupt("return",!0);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.hasError,r=this.props.form,n=this.props.beneficiaries&&this.props.beneficiaries.beneficiaries&&this.props.beneficiaries.beneficiaries.beneficiaries&&this.props.beneficiaries.beneficiaries.beneficiaries.rows||[],i=n.find(function(e){if((e.userTag&&JSON.parse(e.userTag)).userId)return e});return Object(b.a)(Object(l.a)(t.prototype),"_render",this).call(this,m.createElement("div",{className:"kyc-who"},n&&n.length>0&&m.createElement(m.Fragment,null,m.createElement(a.a,null,m.createElement("div",{className:"kyc-subtitle"},m.createElement(k.b,{id:"kyc.personal_information.who_beneficiaries_title"}))),m.createElement(a.a,null,m.createElement(d.i,{form:r,id:"beneficiary",values:n.map(function(e,t){return{checked:i&&i.userId===e.userId,disabled:!(!i||i.userId===e.userId),label:"".concat(e.firstname," ").concat(e.lastname),value:e.userId}})}))),m.createElement(a.a,null,m.createElement("div",{className:"kyc-subtitle"},n&&n.length>0?m.createElement(k.b,{id:"kyc.personal_information.beneficiaries_not_in_the_title"}):m.createElement(k.b,{id:"kyc.personal_information.beneficiaries_no_list_title"}))),m.createElement(a.a,null,m.createElement(d.i,{form:r,id:"beneficiary",values:[{disabled:!!i,label:m.createElement(k.b,{id:"kyc.beneficiary.beneciary_not_listed"}),value:"beneciary_not_listed"},{disabled:!!i,label:m.createElement(k.b,{id:"kyc.beneficiary.not_beneciary"}),value:"not_beneciary"}]})),m.createElement(a.a,{className:"has-error"},m.createElement("span",{className:"ant-form-explain"},e&&m.createElement(k.b,{id:"kyc.beneficiary.who_error"})))))}}]),t}(r(770).a);_.defaultProps={kycProps:{bottomBar:!0,btn:"kyc.bottom.confirm",btnLater:"kyc.bottom.later",btnLaterLink:"/",btnLink:"/kyc/personal-information/part-1",headingDescription:"kyc.personal_information.who_description",headingTitle:"kyc.personal_information.who_title",nextStep:"PERSONNAL_INFORMATION_PART_1",step:"PERSONNAL_INFORMATION"}},t.default=Object(v.compose)(h.b(),n.a.create({}),y.c(),O.b(),j.b(),k.e)(_)},770:function(e,t,r){"use strict";var n=r(11),a=r.n(n),i=r(22),c=r(8),s=r(14),o=r(9),u=r(7),p=r(10),l=r(16),b=r(56),f=r(0),d=r(62),h=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},r.handleLater=r.later.bind(Object(l.a)(Object(l.a)(r))),r.handleSave=r.save.bind(Object(l.a)(Object(l.a)(r))),r.handleError=r.onError.bind(Object(l.a)(Object(l.a)(r))),r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"load",value:function(){this.props.kycSetState&&this.props.kycSetState({btnLoading:!0})}},{key:"later",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.kyc.btnLaterLink)&&d.a.push(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onError",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.kycSetState&&this.props.kycSetState({btnLaterLoading:!1,btnLoading:!1});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t,r,n,i,c,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.company,n=t.kycSetState,i=t.kyc,c=i.nextStep,s=i.btnLink,n({btnLoading:!0}),!c||!r){e.next=5;break}return e.next=5,r.step(c);case 5:return n({btnLoading:!1}),s&&d.a.push(s),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.offValidateStep,r=e.offValidateLater;t&&t(this.handleSave),r&&r(this.handleLater)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onValidateStep,r=e.onValidateLater;t&&t(this.handleSave),r&&r(this.handleLater),this.props.kycSetState&&this.props.kycSetState(this.props.kycProps)}},{key:"_render",value:function(e){var t=this.props,r=t.kycProps,n=t.user,a=n&&n.data&&n.data.me,i=a&&a.currentCompany&&(a.currentCompany.name||a.currentCompany.brandName),c=r&&r.headingTitle,s=r&&r.headingDescription;return f.createElement("div",{className:"kyc-children"},c&&f.createElement("div",null,f.createElement(b.f,{titleVariables:{company:i},title:c,description:s})),e)}}]),t}(f.PureComponent);h.defaultProps={},t.a=h},773:function(e,t,r){"use strict";var n=r(7);function a(e,t,r){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}r.d(t,"a",function(){return a})}}]);
//# sourceMappingURL=118.e61c1d68.chunk.js.map