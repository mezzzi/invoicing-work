{"version":3,"sources":["screens/Kyc/FormBeneficiary/ComplementaryForm.tsx","screens/Kyc/FormBeneficiary/Form3.tsx","screens/Kyc/Manager.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js"],"names":["ComplementaryForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","btnDisabled","handleSubmit","submit","bind","assertThisInitialized","handleLater","later","handleBur","blur","onChangeType","changeType","value","updateValues","controllingPersonType","_this$props","form","getFieldsValue","values","parseInt","incomeRange","occupation","personalAssets","taxResidence","onSave","getBeneficiary","_this2","kycSetState","btnLoading","validateFields","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","err","wrap","_context","prev","next","stop","_x","_x2","apply","arguments","_this$props2","offValidateStep","offValidateLater","_this$props3","onValidateStep","onValidateLater","_this$props4","intl","beneficiary","className","react","es_form","method","onSubmit","row","gutter","col","span","Form","onChangeSelect","onBlur","defaultValue","concat","showSearch","id","label","index_es","rules","message","formatMessage","required","options","key","country","birthCountry","nationality","React","compose","create","injectIntl","TempBeneficiary","KycCtx","Form3","get","prototype","saveBeneficiary","save","currentStep","nextUrl","nextStep","bottomBar","btn","btnLater","btnLaterLink","btnLink","step","tempBeneficiary","location","keyTrad","pathname","replace","substr","Typo","titleVariables","firstname","lastname","title","description","FormBeneficiary_ComplementaryForm","onLater","Manager","defaultProps","Beneficiaries","Company","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleSave","handleError","onError","kyc","history","push","btnLaterLoading","company","kycProps","node","user","me","data","currentCompany","name","brandName","headingTitle","headingDescription","react__WEBPACK_IMPORTED_MODULE_9__","components_Typo__WEBPACK_IMPORTED_MODULE_8__","get_get","target","property","receiver","Reflect","base","object","hasOwnProperty","_superPropBase","desc","getOwnPropertyDescriptor","__webpack_require__","d","__webpack_exports__"],"mappings":"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","file":"static/js/16.f73157a2.chunk.js","sourcesContent":["import { Col, Form, Row } from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { Button } from 'components/Button';\nimport { Option, Select, Text } from 'components/Form';\nimport {\n  IBeneficiary,\n  IBeneficiaryInput,\n  IDocumentInput,\n  IUserTitle,\n} from 'context/Beneficiaries/types';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport * as ReactDOM from 'react-dom';\nimport { FormattedMessage, InjectedIntlProps, injectIntl } from 'react-intl';\nimport * as KycCtx from '../context';\nimport * as TempBeneficiary from './context/index';\n\ninterface IProps\n  extends FormComponentProps,\n    InjectedIntlProps,\n    TempBeneficiary.InjectedProps,\n    KycCtx.InjectedProps {\n  className?: string;\n  onSave?: (next: boolean, beneficiary: IBeneficiaryInput) => void;\n  beneficiary?: IBeneficiaryInput;\n}\ninterface IState {}\n\nclass ComplementaryForm extends React.PureComponent<IProps, IState> {\n  state = {\n    btnDisabled: false,\n  };\n\n  handleSubmit: () => void;\n  handleLater: () => void;\n  handleBur: (node: any) => void;\n  onChangeType: (value: any) => void;\n  constructor(props: any) {\n    super(props);\n    this.handleSubmit = this.submit.bind(this);\n    this.handleLater = this.later.bind(this);\n    this.handleBur = this.blur.bind(this);\n    this.onChangeType = this.changeType.bind(this);\n  }\n\n  changeType(value: any) {\n    const { updateValues } = this.props;\n    updateValues &&\n      updateValues({\n        controllingPersonType: value,\n      });\n  }\n\n  blur() {\n    const { updateValues, form } = this.props;\n    updateValues && updateValues(form.getFieldsValue());\n  }\n\n  getBeneficiary(values: any): any {\n    const controllingPersonType = parseInt(values.controllingPersonType, 10);\n\n    const updatedBeneficiary: IBeneficiaryInput = {\n      controllingPersonType,\n      incomeRange: values.incomeRange,\n      occupation:\n        controllingPersonType === 1 ? 'actionnaire' : values.occupation,\n      personalAssets: values.personalAssets,\n      taxResidence: values.taxResidence,\n    };\n\n    return updatedBeneficiary;\n  }\n\n  later() {\n    const values: any = this.props.form.getFieldsValue();\n    this.props.onSave && this.props.onSave(false, this.getBeneficiary(values));\n  }\n\n  submit() {\n    const { kycSetState } = this.props;\n    kycSetState({ btnLoading: true });\n    this.props.form.validateFields(async (err: any, values: any) => {\n      if (!err) {\n        this.props.onSave &&\n          this.props.onSave(true, this.getBeneficiary(values));\n      } else {\n        kycSetState({ btnLoading: false });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    const { offValidateStep, offValidateLater } = this.props;\n    offValidateStep && offValidateStep(this.handleSubmit);\n    offValidateLater && offValidateLater(this.handleLater);\n  }\n\n  componentDidMount() {\n    const { onValidateStep, onValidateLater } = this.props;\n    onValidateStep && onValidateStep(this.handleSubmit);\n    onValidateLater && onValidateLater(this.handleLater);\n  }\n\n  render() {\n    const { form, intl, beneficiary, className, values } = this.props;\n\n    const controllingPersonType = !values\n      ? beneficiary && beneficiary.controllingPersonType\n      : values && parseInt(values.controllingPersonType, 10);\n\n    return (\n      <Form method=\"#\" className={className} onSubmit={this.handleSubmit}>\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={16}>\n            <Select\n              onChangeSelect={this.onChangeType}\n              onBlur={this.handleBur}\n              defaultValue={controllingPersonType && `${controllingPersonType}`}\n              showSearch\n              id=\"controllingPersonType\"\n              label={\n                <FormattedMessage id=\"kyc.beneficiary.form_beneficiary_type\" />\n              }\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_beneficiary_type_error',\n                  }),\n                  required: true,\n                },\n              ]}\n              form={form}\n              options={[\n                <Option value=\"\" key=\"0\">\n                  &nbsp;\n                </Option>,\n                <Option value=\"1\" key=\"1\">\n                  <FormattedMessage id=\"kyc.beneficiary.form_beneficiary_type_1\" />\n                </Option>,\n                <Option value=\"2\" key=\"2\">\n                  <FormattedMessage id=\"kyc.beneficiary.form_beneficiary_type_2\" />\n                </Option>,\n                <Option value=\"3\" key=\"3\">\n                  <FormattedMessage id=\"kyc.beneficiary.form_beneficiary_type_3\" />\n                </Option>,\n              ]}\n            />\n          </Col>\n        </Row>\n        {controllingPersonType !== 1 && (\n          <Row gutter={55}>\n            <Col className=\"gutter-box\" span={16}>\n              <Text\n                onBlur={this.handleBur}\n                defaultValue={beneficiary && beneficiary.occupation}\n                form={form}\n                label={<FormattedMessage id=\"kyc.beneficiary.form_job\" />}\n                id=\"occupation\"\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.beneficiary.form_job_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n              />\n            </Col>\n          </Row>\n        )}\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={8}>\n            <Select\n              onBlur={this.handleBur}\n              defaultValue={beneficiary && beneficiary.incomeRange}\n              showSearch\n              id=\"incomeRange\"\n              label={<FormattedMessage id=\"kyc.beneficiary.form_income\" />}\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_income_error',\n                  }),\n                  required: true,\n                },\n              ]}\n              form={form}\n              options={[\n                <Option value=\"\" key=\"1\">\n                  &nbsp;\n                </Option>,\n                <Option key=\"0-18\" value=\"0-18\">\n                  0-18000 €\n                </Option>,\n                <Option key=\"19-23\" value=\"19-23\">\n                  19000-23000 €\n                </Option>,\n                <Option key=\"24-27\" value=\"24-27\">\n                  24000-27000 €\n                </Option>,\n                <Option key=\"28-35\" value=\"28-35\">\n                  28000-35000 €\n                </Option>,\n                <Option key=\"36-56\" value=\"36-56\">\n                  36000-56000 €\n                </Option>,\n                <Option key=\"57\" value=\"57\">\n                  57000 €\n                </Option>,\n              ]}\n            />\n          </Col>\n          <Col className=\"gutter-box\" span={8}>\n            <Select\n              onBlur={this.handleBur}\n              defaultValue={beneficiary && beneficiary.personalAssets}\n              showSearch\n              id=\"personalAssets\"\n              label={<FormattedMessage id=\"kyc.beneficiary.form_patrimony\" />}\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_patrimony_error',\n                  }),\n                  required: true,\n                },\n              ]}\n              form={form}\n              options={[\n                <Option value=\"\" key=\"1\">\n                  &nbsp;\n                </Option>,\n                <Option key=\"0-2\" value=\"0-2\">\n                  0-2000 €\n                </Option>,\n                <Option key=\"3-22\" value=\"3-22\">\n                  3000-22000 €\n                </Option>,\n                <Option key=\"23-128\" value=\"23-128\">\n                  23000-128000 €\n                </Option>,\n                <Option key=\"129-319\" value=\"129-319\">\n                  129000-319000 €\n                </Option>,\n                <Option key=\"320-464\" value=\"320-464\">\n                  320000-464000 €\n                </Option>,\n                <Option key=\"465-\" value=\"465-\">\n                  465000 €\n                </Option>,\n              ]}\n            />\n          </Col>\n        </Row>\n        {beneficiary &&\n          (beneficiary.country !== 'FR' ||\n            beneficiary.birthCountry !== 'FR' ||\n            beneficiary.nationality !== 'FR') && (\n            <>\n              <Row>\n                <div className=\"kyc-subtitle\">\n                  <FormattedMessage id=\"kyc.personal_information.tax_residence_title\" />\n                </div>\n              </Row>\n              <Row gutter={55}>\n                <Col className=\"gutter-box\" span={16}>\n                  <Text\n                    onBlur={this.handleBur}\n                    defaultValue={beneficiary && beneficiary.taxResidence}\n                    form={form}\n                    label={\n                      <FormattedMessage id=\"kyc.personal_information.tax_residence\" />\n                    }\n                    id=\"taxResidence\"\n                    rules={[\n                      {\n                        message: intl.formatMessage({\n                          id: 'kyc.personal_information.tax_residence_error',\n                        }),\n                        required: true,\n                      },\n                    ]}\n                  />\n                </Col>\n              </Row>\n            </>\n          )}\n      </Form>\n    );\n  }\n}\n\nexport default compose(\n  Form.create({}),\n  injectIntl,\n  TempBeneficiary.hoc(),\n  KycCtx.hoc(),\n)(ComplementaryForm);\n","import { Form } from 'antd';\nimport { UploadFile } from 'antd/lib/upload/interface';\nimport { Heading } from 'components/Typo';\nimport * as Beneficiaries from 'context/Beneficiaries';\nimport { IBeneficiaryInput, IDocumentInput } from 'context/Beneficiaries/types';\nimport * as Company from 'context/Company';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { injectIntl } from 'react-intl';\nimport { Redirect } from 'react-router';\nimport history from 'store/history';\nimport * as KycCtx from '../context';\nimport Manager, { IManagerProps, IManagerState } from '../Manager';\nimport ComplementaryForm from './ComplementaryForm';\nimport * as TempBeneficiary from './context/index';\n\ninterface IProps\n  extends IManagerProps,\n    Beneficiaries.InjectedProps,\n    TempBeneficiary.InjectedProps {}\ninterface IState extends IManagerState {}\n\nclass Form3 extends Manager<IProps, IState> {\n  static defaultProps = {};\n\n  handleSubmit: (next: boolean, beneficiary: IBeneficiaryInput) => void;\n\n  constructor(props: any) {\n    super(props);\n    this.handleSubmit = this.submit.bind(this);\n  }\n\n  async later() {\n    return false;\n  }\n\n  async submit(next: boolean, beneficiary: IBeneficiaryInput) {\n    if (!next) {\n      super.later();\n    }\n    const { saveBeneficiary } = this.props;\n    if (saveBeneficiary) {\n      await saveBeneficiary(beneficiary);\n    }\n    if (next) {\n      this.save();\n    }\n  }\n\n  componentWillUnmount() {}\n\n  componentDidMount() {\n    const { currentStep, nextUrl, kycSetState, nextStep } = this.props;\n    // super.componentDidMount();\n\n    kycSetState &&\n      kycSetState({\n        bottomBar: true,\n        btn: 'kyc.bottom.confirm',\n        btnLater: 'kyc.bottom.later',\n        btnLaterLink: '/',\n        btnLink: nextUrl,\n        nextStep,\n        step: `${currentStep}_PART_3`,\n      });\n  }\n\n  render() {\n    const { tempBeneficiary, location, values } = this.props;\n\n    const keyTrad = location.pathname\n      .replace(/\\//g, '.')\n      .replace(/-/g, '_')\n      .substr(1);\n\n    return super._render(\n      <div className=\"kyc-personal-info-3\">\n        <div>\n          <Heading\n            titleVariables={{\n              firstname: values.firstname || '',\n              lastname: values.lastname || '',\n            }}\n            title={`${keyTrad}_title`}\n            description={`${keyTrad}_description`}\n          />\n        </div>\n        <ComplementaryForm\n          onSave={this.handleSubmit}\n          onLater={this.handleSubmit}\n          beneficiary={tempBeneficiary}\n        />\n      </div>,\n    );\n  }\n}\n\nexport default compose(\n  Beneficiaries.hoc(),\n  Form.create({}),\n  TempBeneficiary.hoc(),\n  Company.hoc(),\n  KycCtx.hoc(),\n  injectIntl,\n)(Form3);\n","import { FormComponentProps } from 'antd/lib/form';\nimport { Heading } from 'components/Typo';\nimport * as Company from 'context/Company';\nimport * as User from 'context/User';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { InjectedIntlProps } from 'react-intl';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport history from 'store/history';\nimport BottomBar from './BottomBar';\nimport * as KycCtx from './context';\n\nexport interface IManagerProps\n  extends RouteComponentProps,\n    FormComponentProps,\n    Company.InjectedProps,\n    User.InjectedProps,\n    InjectedIntlProps,\n    KycCtx.InjectedProps {\n  kycProps: {\n    headingTitle?: string;\n    headingDescription?: string;\n    sidebar?: boolean;\n    step?: string;\n    nextStep?: string;\n    bottomBar?: boolean;\n    btn?: string;\n    btnDisabled?: boolean;\n    btnLink?: string;\n    btnLater?: string;\n    btnLaterLink?: string;\n  };\n}\n\nexport interface IManagerState {}\n\nclass Manager<\n  P extends IManagerProps,\n  S extends IManagerState & any\n> extends React.PureComponent<P, S & any> {\n  static defaultProps: Partial<IManagerProps> = {};\n\n  state: Partial<IManagerState> = {};\n\n  handleLater: () => Promise<boolean | undefined>;\n  handleSave: () => Promise<boolean | undefined>;\n  handleError: () => void;\n  constructor(props: any) {\n    super(props);\n\n    this.handleLater = this.later.bind(this);\n    this.handleSave = this.save.bind(this);\n    this.handleError = this.onError.bind(this);\n  }\n\n  load() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLoading: true,\n      });\n  }\n\n  async later(): Promise<boolean | undefined> {\n    const {\n      kyc: { btnLaterLink },\n    } = this.props;\n    btnLaterLink && history.push(btnLaterLink as string);\n    return true;\n  }\n\n  async onError() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLaterLoading: false,\n        btnLoading: false,\n      });\n  }\n\n  async save(): Promise<boolean | undefined> {\n    const {\n      company,\n      kycSetState,\n      kyc: { nextStep, btnLink },\n    } = this.props;\n    kycSetState({ btnLoading: true });\n\n    if (nextStep && company) {\n      await company.step(nextStep);\n    }\n    kycSetState({ btnLoading: false });\n    btnLink && history.push(btnLink);\n    return true;\n  }\n\n  componentWillUnmount() {\n    const { offValidateStep, offValidateLater } = this.props;\n    offValidateStep && offValidateStep(this.handleSave);\n    offValidateLater && offValidateLater(this.handleLater);\n  }\n\n  componentDidMount() {\n    const { onValidateStep, onValidateLater } = this.props;\n    onValidateStep && onValidateStep(this.handleSave);\n    onValidateLater && onValidateLater(this.handleLater);\n\n    this.props.kycSetState && this.props.kycSetState(this.props.kycProps);\n  }\n\n  _render(node: React.ReactNode) {\n    const { kycProps, user } = this.props;\n    const me = user && user.data && user.data.me;\n    const company =\n      me &&\n      me.currentCompany &&\n      (me.currentCompany.name || me.currentCompany.brandName);\n\n    const headingTitle = kycProps && kycProps.headingTitle;\n    const headingDescription = kycProps && kycProps.headingDescription;\n\n    return (\n      <div className=\"kyc-children\">\n        {headingTitle && (\n          <div>\n            <Heading\n              titleVariables={{\n                company,\n              }}\n              title={headingTitle}\n              description={headingDescription}\n            />\n          </div>\n        )}\n        {node}\n      </div>\n    );\n  }\n}\n\n// export default compose(\n//   KycCtx.hoc()\n// )(Manager);\nexport default Manager;\n","import getPrototypeOf from \"./getPrototypeOf\";\nimport superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}"],"sourceRoot":""}