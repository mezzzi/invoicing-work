{"version":3,"sources":["screens/Kyc/FormBeneficiary/CommonForm.tsx","screens/Kyc/FormBeneficiary/Form1.tsx","screens/Kyc/Manager.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","context/Beneficiaries/types.ts","../node_modules/pdfjs-dist/build sync","components/Form/LocalUpload.tsx","screens/Kyc/Proof.tsx"],"names":["CommonForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","btnDisabled","countChecked","hasDocument","proof","undefined","proofBase64","proofChecked","proofError","proofValidated","proofRef","React","handleProofChange","proofChange","bind","assertThisInitialized","handleSubmit","submit","handleLater","later","handleBur","blur","handleCheckChange","checkChange","handleCancelProof","cancelProof","handleValidateProof","validateProof","handleProofRemove","proofRemove","handleProofCancel","proofCancel","documentFound","beneficiary","documents","rows","map","document","documentStatus","DocumentStatus","CANCELED","documentTypeId","_this$props","updateValues","form","getFieldsValue","setState","current","onRemove","e","newCount","target","checked","file","base64","documentId","onRemoveDocument","values","updatedBeneficiary","birthCountry","birthday","toServerDate","firstname","lastname","nationality","phone","placeOfBirth","title","form_proof_id","parseInt","name","userId","onSave","getBeneficiary","setFields","errors","Error","intl","formatMessage","id","value","_this2","kycSetState","btnLoading","validateFields","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","err","wrap","_context","prev","next","abrupt","stop","_x","_x2","apply","arguments","_this$props2","offValidateStep","offValidateLater","_this$props3","onValidateStep","onValidateLater","_this$props4","className","isCurrent","_this$state","react","es_form","method","onSubmit","row","index_es","Form","defaultValue","IUserTitle","M","rules","message","required","label","MME","gutter","col","span","onBlur","iso","error","toPickerDate","Proof","ref","documentsType","hasError","onChange","onCancel","errorText","showSearch","options","key","Dialog","visible","closable","footerVisible","onCheck","Button","onClick","type","BtnType","Default","disabled","Primary","indexOf","es","src","compose","create","injectIntl","KycCtx","TempBeneficiary","Form1","handleRemoveDocument","removeDocument","get","prototype","saveBeneficiary","tempBeneficiary","save","currentStep","baseUrl","nextStep","bottomBar","btn","btnLater","btnLaterLink","btnLink","concat","step","location","keyTrad","pathname","replace","substr","Typo","titleVariables","description","FormBeneficiary_CommonForm","Manager","defaultProps","Beneficiaries","Company","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","handleSave","handleError","onError","kyc","history","push","btnLaterLoading","company","kycProps","node","user","me","data","currentCompany","brandName","headingTitle","headingDescription","react__WEBPACK_IMPORTED_MODULE_9__","components_Typo__WEBPACK_IMPORTED_MODULE_8__","get_get","property","receiver","Reflect","base","object","hasOwnProperty","_superPropBase","desc","getOwnPropertyDescriptor","__webpack_require__","d","__webpack_exports__","webpackEmptyContext","req","code","keys","resolve","module","exports","useState","LocalUpload","defaultPreview","_useState","_useState2","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","setFile","_useState3","_useState4","preview","setPreview","customRequest","abort","accepted","_ref2","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","acceptedOrRejected","updatePreview","_ref3","_callee2","reader","_context2","FileReader","readAsDataURL","onloadend","result","beforeUpload","_ref4","_callee3","FileList","_context3","_x3","_x4","remove","uid","react__WEBPACK_IMPORTED_MODULE_7__","react_dropzone__WEBPACK_IMPORTED_MODULE_8__","maxSize","accept","onDrop","onDropAccepted","_ref5","getRootProps","isDragActive","_workspace_libeoweb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign","components_Assets__WEBPACK_IMPORTED_MODULE_4__","IconValue","Cross","react_pdf_js__WEBPACK_IMPORTED_MODULE_10__","components_Upload_UploadDisplay__WEBPACK_IMPORTED_MODULE_6__","active","small","multiple","extension","onCustomRequest","onBeforeUpload","react_intl__WEBPACK_IMPORTED_MODULE_9__","children","childrenAfter","rest","documentsFound","i","react__WEBPACK_IMPORTED_MODULE_10__","PENDING","components_Assets__WEBPACK_IMPORTED_MODULE_6__","Clock","VALIDATED","Checkmark","fileName","length","components_Form_LocalUpload__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"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","file":"static/js/14.23a7e409.chunk.js","sourcesContent":["import { Col, Form, Row } from 'antd';\nimport { CheckboxChangeEvent } from 'antd/lib/checkbox';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { UploadFile } from 'antd/lib/upload/interface';\nimport { BtnType, Button } from 'components/Button';\nimport { Dialog } from 'components/Dialog';\nimport {\n  Checkbox,\n  Country,\n  Date,\n  Option,\n  Radios,\n  Select,\n  Text,\n} from 'components/Form';\nimport {\n  DocumentStatus,\n  IBeneficiary,\n  IBeneficiaryInput,\n  IDocument,\n  IDocumentInput,\n  IUserTitle,\n} from 'context/Beneficiaries/types';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport * as ReactDOM from 'react-dom';\nimport {\n  FormattedHTMLMessage,\n  FormattedMessage,\n  InjectedIntlProps,\n  injectIntl,\n} from 'react-intl';\nimport PDF from 'react-pdf-js';\nimport { toPickerDate, toServerDate } from 'utils/common';\nimport * as KycCtx from '../context';\nimport Proof from '../Proof';\nimport * as TempBeneficiary from './context/index';\n\ninterface IProps\n  extends FormComponentProps,\n    InjectedIntlProps,\n    TempBeneficiary.InjectedProps,\n    KycCtx.InjectedProps {\n  className?: string;\n  onSave?: (next: boolean, beneficiary?: IBeneficiaryInput) => void;\n  isCurrent?: boolean;\n  onRemoveDocument?: (documentId: number) => void;\n  beneficiary?: IBeneficiaryInput;\n}\ninterface IState {\n  hasDocument: boolean;\n  proofError: boolean;\n  proof?: UploadFile;\n  proofBase64?: string;\n  proofValidated: boolean;\n  proofChecked: boolean;\n  countChecked: number;\n}\n\nclass CommonForm extends React.PureComponent<IProps, IState> {\n  static getDerivedStateFromProps(props: IProps, state: IState) {\n    let documentFound: boolean = false;\n    const { beneficiary } = props;\n    if (!state.proof) {\n      if (\n        beneficiary &&\n        beneficiary.documents &&\n        (beneficiary.documents as any).rows\n      ) {\n        (beneficiary.documents as any).rows.map((document: any) => {\n          if (\n            document.documentStatus !== DocumentStatus.CANCELED &&\n            (document.documentTypeId === 9 ||\n              document.documentTypeId === 17 ||\n              document.documentTypeId === 15)\n          ) {\n            documentFound = true;\n          }\n        });\n      }\n    }\n    return {\n      hasDocument: documentFound,\n    };\n  }\n  state = {\n    btnDisabled: false,\n    countChecked: 0,\n    hasDocument: false,\n    proof: undefined,\n    proofBase64: undefined,\n    proofChecked: false,\n    proofError: false,\n    proofValidated: false,\n  };\n\n  handleBur: (node: any) => void;\n  handleProofChange: (file?: UploadFile, base64?: string) => void;\n  handleSubmit: () => void;\n  handleLater: () => void;\n  handleCheckChange: (e: CheckboxChangeEvent) => void;\n  handleCancelProof: () => void;\n  handleValidateProof: () => void;\n  handleProofRemove: (uid: string) => void;\n  handleProofCancel: (documentId: number) => void;\n\n  proofRef: any;\n  constructor(props: any) {\n    super(props);\n    this.proofRef = React.createRef();\n    this.handleProofChange = this.proofChange.bind(this);\n    this.handleSubmit = this.submit.bind(this);\n    this.handleLater = this.later.bind(this);\n    this.handleBur = this.blur.bind(this);\n    this.handleCheckChange = this.checkChange.bind(this);\n    this.handleCancelProof = this.cancelProof.bind(this);\n    this.handleValidateProof = this.validateProof.bind(this);\n    this.handleProofRemove = this.proofRemove.bind(this);\n    this.handleProofCancel = this.proofCancel.bind(this);\n  }\n\n  blur() {\n    const { updateValues, form } = this.props;\n    updateValues && updateValues(form.getFieldsValue());\n  }\n\n  cancelProof() {\n    this.setState({\n      countChecked: 0,\n      proof: undefined,\n      proofBase64: undefined,\n      proofChecked: false,\n      proofError: false,\n      proofValidated: false,\n    });\n    this.proofRef.current.onRemove();\n  }\n\n  validateProof() {\n    this.setState({\n      proofValidated: true,\n    });\n  }\n\n  checkChange(e: CheckboxChangeEvent) {\n    const newCount: number = e.target.checked\n      ? this.state.countChecked + 1\n      : this.state.countChecked - 1;\n    this.setState({\n      countChecked: newCount,\n      proofChecked: newCount === 5 ? true : false,\n    });\n  }\n\n  proofChange(file?: UploadFile, base64?: string) {\n    this.setState({\n      countChecked: 0,\n      proof: file,\n      proofBase64: base64,\n      proofChecked: false,\n      proofError: false,\n      proofValidated: false,\n    });\n  }\n\n  proofRemove() {\n    this.setState({\n      countChecked: 0,\n      proof: undefined,\n      proofBase64: undefined,\n      proofChecked: false,\n      proofError: false,\n      proofValidated: false,\n    });\n  }\n\n  proofCancel(documentId: number) {\n    this.props.onRemoveDocument && this.props.onRemoveDocument(documentId);\n  }\n\n  getBeneficiary(values: any): any {\n    const proof: any = this.state.proof;\n\n    const updatedBeneficiary: IBeneficiaryInput = {\n      birthCountry: values.birthCountry,\n      birthday: values.birthday ? toServerDate(values.birthday) : '',\n      firstname: values.firstname,\n      lastname: values.lastname,\n      nationality: values.nationality,\n      phone: values.phone,\n      placeOfBirth: values.placeOfBirth,\n      title: values.title,\n    };\n\n    if (proof) {\n      updatedBeneficiary.documents = [\n        {\n          documentTypeId: values.form_proof_id\n            ? parseInt(values.form_proof_id, 10)\n            : 9,\n          file: proof,\n          name: proof && proof.name,\n          userId: values.userId,\n        },\n      ];\n    }\n\n    return updatedBeneficiary;\n  }\n\n  later() {\n    const values: any = this.props.form.getFieldsValue();\n\n    if (values.firstname) {\n      this.props.onSave &&\n        this.props.onSave(false, this.getBeneficiary(values));\n    } else {\n      if (\n        values.birthCountry !== null ||\n        values.birthday !== null ||\n        values.form_proof_id !== null ||\n        values.lastname !== null ||\n        values.nationality !== null ||\n        values.phone !== null ||\n        values.placeOfBirth !== null\n      ) {\n        this.props.form.setFields({\n          firstname: {\n            errors: [\n              new Error(\n                this.props.intl.formatMessage({\n                  id: 'kyc.beneficiary.form_firstname_error',\n                }),\n              ),\n            ],\n            value: values.firstname,\n          },\n        });\n      } else {\n        this.props.onSave && this.props.onSave(false);\n      }\n    }\n  }\n\n  submit() {\n    const { kycSetState } = this.props;\n    kycSetState({ btnLoading: true });\n\n    this.props.form.validateFields(async (err: any, values: any) => {\n      if (!err) {\n        const updatedBeneficiary = this.getBeneficiary(values);\n        const proof: any = this.state.proof;\n\n        const { hasDocument } = this.state;\n\n        if (!proof && !hasDocument) {\n          kycSetState({ btnLoading: false });\n          this.setState({ proofError: true });\n          return false;\n        }\n\n        this.props.onSave && this.props.onSave(true, updatedBeneficiary);\n      } else {\n        kycSetState({ btnLoading: false });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    const { offValidateStep, offValidateLater } = this.props;\n    offValidateStep && offValidateStep(this.handleSubmit);\n    offValidateLater && offValidateLater(this.handleLater);\n  }\n\n  componentDidMount() {\n    const { onValidateStep, onValidateLater } = this.props;\n    onValidateStep && onValidateStep(this.handleSubmit);\n    onValidateLater && onValidateLater(this.handleLater);\n  }\n\n  render() {\n    const { form, intl, beneficiary, className, isCurrent } = this.props;\n    const { proofValidated, proof, proofChecked, proofBase64 } = this.state;\n\n    return (\n      <Form method=\"#\" className={className} onSubmit={this.handleSubmit}>\n        <Row>\n          <div className=\"kyc-subtitle\">\n            <FormattedMessage id=\"kyc.personal_information.main_informations\" />\n          </div>\n        </Row>\n        <br />\n        <Radios\n          defaultValue={beneficiary ? beneficiary.title : IUserTitle.M}\n          form={form}\n          id=\"title\"\n          rules={[\n            {\n              message: intl.formatMessage({\n                id: 'kyc.beneficiary.form_title_error',\n              }),\n              required: true,\n            },\n          ]}\n          values={[\n            {\n              label: <FormattedMessage id=\"kyc.beneficiary.form_man\" />,\n              value: IUserTitle.M,\n            },\n            {\n              label: <FormattedMessage id=\"kyc.beneficiary.form_woman\" />,\n              value: IUserTitle.MME,\n            },\n          ]}\n        />\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={8}>\n            <Text\n              onBlur={this.handleBur}\n              defaultValue={beneficiary && beneficiary.firstname}\n              form={form}\n              label={<FormattedMessage id=\"kyc.beneficiary.form_firstname\" />}\n              id=\"firstname\"\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_firstname_error',\n                  }),\n                  required: true,\n                },\n              ]}\n            />\n          </Col>\n          <Col className=\"gutter-box\" span={8}>\n            <Text\n              onBlur={this.handleBur}\n              defaultValue={beneficiary && beneficiary.lastname}\n              form={form}\n              label={<FormattedMessage id=\"kyc.beneficiary.form_lastname\" />}\n              id=\"lastname\"\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_lastname_error',\n                  }),\n                  required: true,\n                },\n              ]}\n            />\n          </Col>\n          {isCurrent && (\n            <Col className=\"gutter-box\" span={8}>\n              <Text\n                onBlur={this.handleBur}\n                defaultValue={beneficiary && beneficiary.phone}\n                form={form}\n                label={<FormattedMessage id=\"kyc.beneficiary.form_phone\" />}\n                id=\"phone\"\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.beneficiary.form_phone_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n              />\n            </Col>\n          )}\n        </Row>\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={16}>\n            <Country\n              onBlur={this.handleBur}\n              iso\n              id={'nationality'}\n              form={form}\n              defaultValue={beneficiary && beneficiary.nationality}\n              title=\"kyc.beneficiary.form_nationality\"\n              error=\"kyc.beneficiary.form_nationality_error\"\n            />\n          </Col>\n        </Row>\n        <Row>\n          <div className=\"kyc-subtitle\">\n            <FormattedMessage id=\"kyc.personal_information.birth_informations\" />\n          </div>\n        </Row>\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={8}>\n            <Date\n              onBlur={this.handleBur}\n              defaultValue={\n                beneficiary && beneficiary.birthday && beneficiary.birthday\n                  ? toPickerDate(beneficiary.birthday)\n                  : null\n              }\n              form={form}\n              label={<FormattedMessage id=\"kyc.beneficiary.form_birthday\" />}\n              id=\"birthday\"\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_birthday_error',\n                  }),\n                  required: true,\n                },\n              ]}\n            />\n          </Col>\n          <Col className=\"gutter-box\" span={8}>\n            <Country\n              onBlur={this.handleBur}\n              iso\n              id={'birthCountry'}\n              form={form}\n              defaultValue={beneficiary && beneficiary.birthCountry}\n              title=\"kyc.beneficiary.form_birth_country\"\n              error=\"kyc.beneficiary.form_birth_country_error\"\n            />\n          </Col>\n        </Row>\n        <Row gutter={55}>\n          <Col className=\"gutter-box\" span={16}>\n            <Text\n              onBlur={this.handleBur}\n              defaultValue={beneficiary && beneficiary.placeOfBirth}\n              form={form}\n              label={<FormattedMessage id=\"kyc.beneficiary.form_city\" />}\n              id=\"placeOfBirth\"\n              rules={[\n                {\n                  message: intl.formatMessage({\n                    id: 'kyc.beneficiary.form_city_error',\n                  }),\n                  required: true,\n                },\n              ]}\n            />\n          </Col>\n        </Row>\n        <Row gutter={55}>\n          <Col span={16}>\n            <Proof\n              ref={this.proofRef}\n              documents={beneficiary && (beneficiary as any).documents.rows}\n              documentsType={[9, 17, 15]}\n              hasError={this.state.proofError}\n              onChange={this.handleProofChange}\n              onRemove={this.handleProofRemove}\n              onCancel={this.handleProofCancel}\n              title=\"kyc.beneficiary.form_btn_upload_proof_id\"\n              errorText=\"kyc.beneficiary.form_btn_upload_proof_id_error\"\n            >\n              <Select\n                defaultValue=\"\"\n                showSearch\n                id=\"form_proof_id\"\n                label={\n                  <FormattedMessage id=\"kyc.beneficiary.form_proof_id_type\" />\n                }\n                rules={[\n                  {\n                    message: intl.formatMessage({\n                      id: 'kyc.beneficiary.form_proof_id_type_error',\n                    }),\n                    required: true,\n                  },\n                ]}\n                form={form}\n                options={[\n                  <Option value=\"\" key=\"1\">\n                    &nbsp;\n                  </Option>,\n                  <Option value=\"9\" key=\"9\">\n                    <FormattedMessage id=\"kyc.beneficiary.form_proof_id_type_1\" />\n                  </Option>,\n                  <Option value=\"17\" key=\"17\">\n                    <FormattedMessage id=\"kyc.beneficiary.form_proof_id_type_2\" />\n                  </Option>,\n                  <Option value=\"15\" key=\"15\">\n                    <FormattedMessage id=\"kyc.beneficiary.form_proof_id_type_3\" />\n                  </Option>,\n                ]}\n              />\n            </Proof>\n            {proofBase64 && (\n              <Dialog\n                visible={!proofValidated}\n                closable={false}\n                footerVisible={false}\n                // footerClick={this.handleFooterClick}\n                className=\"quality-assurance-dialog\"\n              >\n                <div className=\"quality-assurance-preview\">\n                  <div className=\"quality-assurance-form\">\n                    <div className=\"quality-assurance-title\">\n                      <FormattedMessage id=\"kyc.beneficiary.quality_title\" />\n                    </div>\n                    <Checkbox\n                      onCheck={this.handleCheckChange}\n                      id=\"quality-assurance-checkbox-1\"\n                      label={\n                        <FormattedMessage id=\"kyc.beneficiary.quality_assurance_checkbox_1\" />\n                      }\n                      form={form}\n                    />\n                    <Checkbox\n                      onCheck={this.handleCheckChange}\n                      id=\"quality-assurance-checkbox-2\"\n                      label={\n                        <FormattedMessage id=\"kyc.beneficiary.quality_assurance_checkbox_2\" />\n                      }\n                      form={form}\n                    />\n                    <Checkbox\n                      onCheck={this.handleCheckChange}\n                      id=\"quality-assurance-checkbox-3\"\n                      label={\n                        <FormattedMessage id=\"kyc.beneficiary.quality_assurance_checkbox_3\" />\n                      }\n                      form={form}\n                    />\n                    <Checkbox\n                      onCheck={this.handleCheckChange}\n                      id=\"quality-assurance-checkbox-4\"\n                      label={\n                        <FormattedMessage id=\"kyc.beneficiary.quality_assurance_checkbox_4\" />\n                      }\n                      form={form}\n                    />\n                    <Checkbox\n                      onCheck={this.handleCheckChange}\n                      id=\"quality-assurance-checkbox-5\"\n                      label={\n                        <FormattedMessage id=\"kyc.beneficiary.quality_assurance_checkbox_5\" />\n                      }\n                      form={form}\n                    />\n                    <Button\n                      onClick={this.handleCancelProof}\n                      type={BtnType.Default}\n                    >\n                      <FormattedMessage id=\"kyc.beneficiary.quality_assurance_cancel\" />\n                    </Button>\n                    <Button\n                      disabled={!proofChecked}\n                      onClick={this.handleValidateProof}\n                      type={BtnType.Primary}\n                    >\n                      <FormattedMessage id=\"kyc.beneficiary.quality_assurance_valid\" />\n                    </Button>\n                  </div>\n                  <div className=\"preview-content\">\n                    {(proofBase64 as string).indexOf(\n                      'data:application/pdf;base64',\n                    ) > -1 ? (\n                      <PDF file={proofBase64} />\n                    ) : (\n                      <img src={proofBase64} />\n                    )}\n                  </div>\n                </div>\n              </Dialog>\n            )}\n          </Col>\n          <Col span={8} className=\"onboarding-form-hint\">\n            <div className=\"kyc-hint-title\">\n              <FormattedMessage id=\"kyc.beneficiary.hint_title\" />\n            </div>\n            <div className=\"kyc-hint-description\">\n              <FormattedHTMLMessage id=\"kyc.beneficiary.hint_proof_id\" />\n            </div>\n          </Col>\n        </Row>\n      </Form>\n    );\n  }\n}\n\nexport default compose(\n  Form.create({}),\n  injectIntl,\n  KycCtx.hoc(),\n  TempBeneficiary.hoc(),\n)(CommonForm);\n","import { Form } from 'antd';\nimport { Heading } from 'components/Typo';\nimport * as Beneficiaries from 'context/Beneficiaries';\nimport { IBeneficiaryInput, IDocumentInput } from 'context/Beneficiaries/types';\nimport * as Company from 'context/Company';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { injectIntl } from 'react-intl';\nimport * as KycCtx from '../context';\nimport Manager, { IManagerProps, IManagerState } from '../Manager';\nimport CommonForm from './CommonForm';\nimport * as TempBeneficiary from './context/index';\n\ninterface IProps\n  extends IManagerProps,\n    Beneficiaries.InjectedProps,\n    TempBeneficiary.InjectedProps {}\ninterface IState extends IManagerState {}\n\nclass Form1 extends Manager<IProps, IState> {\n  static defaultProps = {};\n\n  state = {\n    btnDisabled: false,\n    btnLoading: false,\n  };\n\n  handleSubmit: (next: boolean, beneficiary: IBeneficiaryInput) => void;\n  handleRemoveDocument: (documentId: number) => void;\n  constructor(props: any) {\n    super(props);\n    this.handleSubmit = this.submit.bind(this);\n    this.handleRemoveDocument = this.removeDocument.bind(this);\n  }\n\n  removeDocument(documentId: number) {\n    const { removeDocument } = this.props;\n    removeDocument && removeDocument(documentId);\n  }\n\n  async later() {\n    return false;\n  }\n\n  async submit(next: boolean, beneficiary?: IBeneficiaryInput) {\n    if (!next) {\n      super.later();\n    }\n    const { saveBeneficiary, tempBeneficiary, kycSetState } = this.props;\n\n    if (saveBeneficiary && beneficiary) {\n      await saveBeneficiary(beneficiary);\n    }\n    if (next) {\n      this.save();\n    }\n  }\n\n  componentWillUnmount() {}\n\n  componentDidMount() {\n    const { currentStep, nextStep, baseUrl, kycSetState } = this.props;\n    // super.componentDidMount();\n\n    kycSetState &&\n      kycSetState({\n        bottomBar: true,\n        btn: 'kyc.bottom.confirm',\n        btnLater: 'kyc.bottom.later',\n        btnLaterLink: '/',\n        btnLink: `${baseUrl}/part-2`,\n        nextStep: `${currentStep}_PART_2`,\n        step: `${currentStep}_PART_1`,\n      });\n  }\n\n  render() {\n    const {\n      tempBeneficiary,\n      values,\n      location,\n      isCurrent,\n      baseUrl,\n    } = this.props;\n\n    const keyTrad = location.pathname\n      .replace(/\\//g, '.')\n      .replace(/-/g, '_')\n      .substr(1);\n\n    return super._render(\n      <div className=\"kyc-personal-info-1\">\n        <div>\n          <Heading\n            titleVariables={{\n              firstname: values.firstname || '',\n              lastname: values.lastname || '',\n            }}\n            title={\n              values.firstname || values.lastname\n                ? `${keyTrad}_title`\n                : `${keyTrad}_title_empty`\n            }\n            description={`${keyTrad}_description`}\n          />\n        </div>\n        <CommonForm\n          isCurrent={isCurrent}\n          onSave={this.handleSubmit}\n          onRemoveDocument={this.handleRemoveDocument}\n          beneficiary={tempBeneficiary}\n        />\n      </div>,\n    );\n  }\n}\n\nexport default compose(\n  Beneficiaries.hoc(),\n  Form.create({}),\n  Company.hoc(),\n  KycCtx.hoc(),\n  TempBeneficiary.hoc(),\n  injectIntl,\n)(Form1);\n","import { FormComponentProps } from 'antd/lib/form';\nimport { Heading } from 'components/Typo';\nimport * as Company from 'context/Company';\nimport * as User from 'context/User';\nimport * as React from 'react';\nimport { compose } from 'react-apollo';\nimport { InjectedIntlProps } from 'react-intl';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport history from 'store/history';\nimport BottomBar from './BottomBar';\nimport * as KycCtx from './context';\n\nexport interface IManagerProps\n  extends RouteComponentProps,\n    FormComponentProps,\n    Company.InjectedProps,\n    User.InjectedProps,\n    InjectedIntlProps,\n    KycCtx.InjectedProps {\n  kycProps: {\n    headingTitle?: string;\n    headingDescription?: string;\n    sidebar?: boolean;\n    step?: string;\n    nextStep?: string;\n    bottomBar?: boolean;\n    btn?: string;\n    btnDisabled?: boolean;\n    btnLink?: string;\n    btnLater?: string;\n    btnLaterLink?: string;\n  };\n}\n\nexport interface IManagerState {}\n\nclass Manager<\n  P extends IManagerProps,\n  S extends IManagerState & any\n> extends React.PureComponent<P, S & any> {\n  static defaultProps: Partial<IManagerProps> = {};\n\n  state: Partial<IManagerState> = {};\n\n  handleLater: () => Promise<boolean | undefined>;\n  handleSave: () => Promise<boolean | undefined>;\n  handleError: () => void;\n  constructor(props: any) {\n    super(props);\n\n    this.handleLater = this.later.bind(this);\n    this.handleSave = this.save.bind(this);\n    this.handleError = this.onError.bind(this);\n  }\n\n  load() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLoading: true,\n      });\n  }\n\n  async later(): Promise<boolean | undefined> {\n    const {\n      kyc: { btnLaterLink },\n    } = this.props;\n    btnLaterLink && history.push(btnLaterLink as string);\n    return true;\n  }\n\n  async onError() {\n    this.props.kycSetState &&\n      this.props.kycSetState({\n        btnLaterLoading: false,\n        btnLoading: false,\n      });\n  }\n\n  async save(): Promise<boolean | undefined> {\n    const {\n      company,\n      kycSetState,\n      kyc: { nextStep, btnLink },\n    } = this.props;\n    kycSetState({ btnLoading: true });\n\n    if (nextStep && company) {\n      await company.step(nextStep);\n    }\n    kycSetState({ btnLoading: false });\n    btnLink && history.push(btnLink);\n    return true;\n  }\n\n  componentWillUnmount() {\n    const { offValidateStep, offValidateLater } = this.props;\n    offValidateStep && offValidateStep(this.handleSave);\n    offValidateLater && offValidateLater(this.handleLater);\n  }\n\n  componentDidMount() {\n    const { onValidateStep, onValidateLater } = this.props;\n    onValidateStep && onValidateStep(this.handleSave);\n    onValidateLater && onValidateLater(this.handleLater);\n\n    this.props.kycSetState && this.props.kycSetState(this.props.kycProps);\n  }\n\n  _render(node: React.ReactNode) {\n    const { kycProps, user } = this.props;\n    const me = user && user.data && user.data.me;\n    const company =\n      me &&\n      me.currentCompany &&\n      (me.currentCompany.name || me.currentCompany.brandName);\n\n    const headingTitle = kycProps && kycProps.headingTitle;\n    const headingDescription = kycProps && kycProps.headingDescription;\n\n    return (\n      <div className=\"kyc-children\">\n        {headingTitle && (\n          <div>\n            <Heading\n              titleVariables={{\n                company,\n              }}\n              title={headingTitle}\n              description={headingDescription}\n            />\n          </div>\n        )}\n        {node}\n      </div>\n    );\n  }\n}\n\n// export default compose(\n//   KycCtx.hoc()\n// )(Manager);\nexport default Manager;\n","import getPrototypeOf from \"./getPrototypeOf\";\nimport superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export enum DocumentStatus {\n  PENDING = 'PENDING',\n  CANCELED = 'CANCELED',\n  VALIDATED = 'VALIDATED',\n}\n\nexport enum IUserTitle {\n  M = 'M',\n  MME = 'MME',\n  MLLE = 'MLLE',\n}\n\nexport interface IDocument {\n  documentId: number;\n  documentTag: string;\n  documentStatus: DocumentStatus;\n  documentTypeId: number;\n  documentType: string;\n  residenceId: number;\n  clientId: number;\n  userId: number;\n  userLastname: string;\n  userFirstname: string;\n  fileName: string;\n  temporaryUrl: string;\n  temporaryUrlThumb: string;\n  createdDate: string;\n  modifiedDate: string;\n}\n\nexport interface IBeneficiary {\n  userId: number;\n  userTypeId: number;\n  userStatus: DocumentStatus;\n  userTag: string;\n  parentUserId: number;\n  parentType: string;\n  specifiedUSPerson: number;\n  controllingPersonType: number;\n  employeeType: number;\n  title: IUserTitle | string;\n  firstname: string;\n  lastname: string;\n  middleNames: string;\n  birthday: string;\n  email: string;\n  address1: string;\n  address2: string;\n  postcode: string;\n  city: string;\n  state: string;\n  country: string;\n  countryName: string;\n  phone: string;\n  mobile: string;\n  nationality: string;\n  nationalityOther: string;\n  placeOfBirth: string;\n  birthCountry: string;\n  occupation: string;\n  incomeRange: string;\n  legalName: string;\n  legalNameEmbossed: string;\n  legalRegistrationNumber: string;\n  legalTvaNumber: string;\n  legalRegistrationDate: string;\n  legalForm: string;\n  legalShareCapital: number;\n  legalSector: string;\n  legalAnnualTurnOver: string;\n  legalNetIncomeRange: string;\n  legalNumberOfEmployeeRange: string;\n  effectiveBeneficiary: number;\n  kycLevel: number;\n  kycReview: number;\n  kycReviewComment: string;\n  isFreezed: number;\n  language: string;\n  optInMailing: number;\n  sepaCreditorIdentifier: string;\n  taxNumber: string;\n  taxResidence: string;\n  position: string;\n  personalAssets: string;\n  createdDate: string;\n  modifiedDate: string;\n  walletCount: number;\n  payinCount: number;\n  documents: {\n    total: number;\n    rows: IDocument[];\n  };\n  zipcode?: number;\n}\n\nexport interface IBeneficiaries {\n  total: number;\n  rows: IBeneficiary[];\n}\n\nexport interface IRepresentative {\n  firstname: string;\n  lastname: string;\n  fullnames: string;\n  birthday: string;\n  parentType: string;\n  userTypeId: number;\n}\n\nexport interface IRepresentatives {\n  total: number;\n  rows: IRepresentative[];\n}\n\nexport interface IBeneficiaryInput {\n  userId?: number;\n  userTypeId?: number;\n  userStatus?: DocumentStatus;\n  userTag?: string;\n  parentUserId?: number;\n  parentType?: string;\n  specifiedUSPerson?: number;\n  controllingPersonType?: number;\n  employeeType?: number;\n  title?: IUserTitle;\n  firstname?: string;\n  lastname?: string;\n  middleNames?: string;\n  birthday?: string;\n  email?: string;\n  address1?: string;\n  address2?: string;\n  postcode?: string;\n  city?: string;\n  isCurrentUser?: boolean;\n  isHosted?: boolean;\n  state?: string;\n  country?: string;\n  countryName?: string;\n  phone?: string;\n  mobile?: string;\n  nationality?: string;\n  nationalityOther?: string;\n  placeOfBirth?: string;\n  birthCountry?: string;\n  occupation?: string;\n  incomeRange?: string;\n  legalName?: string;\n  legalNameEmbossed?: string;\n  legalRegistrationNumber?: string;\n  legalTvaNumber?: string;\n  legalRegistrationDate?: string;\n  legalForm?: string;\n  legalShareCapital?: number;\n  legalSector?: string;\n  legalAnnualTurnOver?: string;\n  legalNetIncomeRange?: string;\n  legalNumberOfEmployeeRange?: string;\n  effectiveBeneficiary?: number;\n  kycLevel?: number;\n  kycReview?: number;\n  kycReviewComment?: string;\n  isFreezed?: number;\n  language?: string;\n  optInMailing?: number;\n  sepaCreditorIdentifier?: string;\n  taxNumber?: string;\n  taxResidence?: string;\n  position?: string;\n  personalAssets?: string;\n  createdDate?: string;\n  modifiedDate?: string;\n  walletCount?: number;\n  payinCount?: number;\n  documents?: IDocumentInput[];\n  zipcode?: number;\n  taxInformation?: string;\n}\n\nexport interface IDocumentInput {\n  userId?: number;\n  documentTypeId?: number;\n  name?: string;\n  file?: File;\n}\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 792;","import { RcFile, UploadFile } from 'antd/lib/upload/interface';\nimport { Icon } from 'components/Assets';\nimport { IconValue } from 'components/Assets/Icon';\nimport UploadDisplay from 'components/Upload/UploadDisplay';\nimport * as React from 'react';\nimport Dropzone from 'react-dropzone';\nimport { FormattedMessage } from 'react-intl';\nimport PDF from 'react-pdf-js';\nimport './LocalUpload.module.less';\nconst { useState } = React;\n\nexport interface ILocalUploadProps {\n  title?: string;\n  hasError?: boolean;\n  errorText?: string;\n  defaultPreview?: string;\n  onChange?: (file: UploadFile, base64: string) => void;\n  onRemove?: (uid: string) => void;\n  onCancel?: (documentId: number) => void;\n}\n\nconst LocalUpload: React.FunctionComponent<ILocalUploadProps> = ({\n  onChange,\n  onRemove,\n  defaultPreview,\n  hasError,\n  errorText,\n  title,\n}) => {\n  const [file, setFile] = useState<File | undefined>(undefined);\n  const [preview, setPreview] = useState<string | undefined>(defaultPreview);\n\n  const disableClick = (e: any) => {\n    e.preventDefault();\n  };\n\n  const customRequest = () => ({ abort: () => {} });\n\n  const drop = () => {};\n\n  const accepted = async (acceptedOrRejected: File[]) => {};\n\n  const updatePreview = async (data: File) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(data);\n    reader.onloadend = () => {\n      setPreview(reader.result as string);\n      setFile(data);\n\n      onChange && onChange(data as any, reader.result as string);\n    };\n  };\n\n  const beforeUpload = async (\n    data: RcFile,\n    FileList: RcFile[],\n  ): Promise<boolean> => {\n    updatePreview(data);\n    return false;\n  };\n\n  const remove = () => {\n    if (typeof file !== 'undefined') {\n      onRemove && onRemove((file as RcFile).uid);\n    }\n    setPreview(undefined);\n    setFile(undefined);\n  };\n\n  return (\n    <div className={`local-upload-outer ${hasError ? ' has-error' : ''}`}>\n      <Dropzone\n        maxSize={10000000}\n        accept=\"image/jpeg, image/jpg, image/png, application/pdf, image/bmp, image/gif, image/png\"\n        onDrop={drop}\n        onDropAccepted={accepted}\n        // onDropRejected={this.handleDropRejected}\n      >\n        {({ getRootProps, isDragActive, ...props }) => {\n          return (\n            <div\n              {...getRootProps({\n                // onClick: this.handleDisableClick\n              })}\n              className={`local-upload-wrapper active${\n                hasError ? ' has-error' : ''\n              }${isDragActive ? ' upload-visible' : 'upload-hidden'}`}\n            >\n              {preview ? (\n                <div className=\"local-upload-preview\">\n                  <Icon\n                    onClick={remove}\n                    className=\"local-upload-preview-close\"\n                    value={IconValue.Cross}\n                  />\n                  <div className=\"preview-content\">\n                    {preview.indexOf('data:application/pdf;base64') > -1 ? (\n                      <PDF file={preview} />\n                    ) : (\n                      <img src={preview} />\n                    )}\n                  </div>\n                </div>\n              ) : (\n                <UploadDisplay\n                  active\n                  small\n                  multiple={false}\n                  title={title}\n                  extension={'kyc.beneficiary.upload_extension'}\n                  onCustomRequest={customRequest}\n                  onBeforeUpload={beforeUpload}\n                />\n              )}\n            </div>\n          );\n        }}\n      </Dropzone>\n      <div className=\"ant-form-explain\">\n        {hasError && errorText && <FormattedMessage id={errorText} />}\n      </div>\n    </div>\n  );\n};\n\nexport default LocalUpload;\n","import { RcFile, UploadFile } from 'antd/lib/upload/interface';\nimport { Icon } from 'components/Assets';\nimport { IconValue } from 'components/Assets/Icon';\nimport LocalUpload, { ILocalUploadProps } from 'components/Form/LocalUpload';\nimport UploadDisplay from 'components/Upload/UploadDisplay';\nimport { DocumentStatus, IDocument } from 'context/Beneficiaries/types';\nimport * as React from 'react';\nimport Dropzone from 'react-dropzone';\nimport { FormattedMessage } from 'react-intl';\nimport PDF from 'react-pdf-js';\nimport './Proof.module.less';\n\ninterface IProps extends ILocalUploadProps {\n  children?: React.ReactNode;\n  childrenAfter?: boolean;\n  documents?: IDocument[];\n  documentsType?: number[];\n  onCancel?: (documentId: number) => void;\n}\ninterface IState {}\n\nclass Proof extends React.PureComponent<IProps> {\n  static defaultProps = {};\n\n  render() {\n    const {\n      hasError,\n      documents,\n      onCancel,\n      documentsType,\n      children,\n      childrenAfter,\n      ...rest\n    } = this.props;\n\n    const documentsFound: IDocument[] = [];\n    documents &&\n      documents.map((document: IDocument, i: number) => {\n        if (\n          documentsType &&\n          document.documentTypeId &&\n          document.documentStatus !== DocumentStatus.CANCELED &&\n          documentsType.indexOf(document.documentTypeId) > -1\n        ) {\n          documentsFound.push(document);\n        }\n      });\n\n    return (\n      <div className={`proof-outer ${hasError ? ' has-error' : ''}`}>\n        {documentsFound.map((document: IDocument, i: number) => {\n          return (\n            <div className=\"document-proof\" key={`${i}`}>\n              {document.documentStatus === DocumentStatus.PENDING && (\n                <Icon value={IconValue.Clock} />\n              )}\n              {document.documentStatus === DocumentStatus.VALIDATED && (\n                <Icon value={IconValue.Checkmark} />\n              )}\n              {document.fileName}\n              <div\n                onClick={onCancel && onCancel.bind(null, document.documentId)}\n                className=\"document-proof-remove\"\n              >\n                <Icon value={IconValue.Cross} />\n              </div>\n            </div>\n          );\n        })}\n        {!documentsFound ||\n          (documentsFound.length === 0 && (\n            <>\n              {!childrenAfter && children}\n              <LocalUpload hasError={hasError} {...rest} />\n              {childrenAfter && children}\n            </>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default Proof;\n"],"sourceRoot":""}