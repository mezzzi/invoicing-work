import { Repository } from 'typeorm';
import { Invoice, InvoiceStatus } from '../entities/invoice.entity';
import { CreateInvoiceDto } from '../dto/invoices.dto';
import { User } from '../entities/user.entity';
import { CompaniesService } from './companies.service';
import { List } from '../interfaces/common.interface';
import { Company } from '../entities/company.entity';
import { File } from '../interfaces/file.interface';
import { PartnersService } from './partners.service';
import { IbansService } from './ibans.service';
import { EmailService } from '../../notification/email.service';
import { Payment } from '../entities/payment.entity';
import { InvoiceStorageService } from '../../storage/invoice-storage.service';
import { RibStorageService } from '../../storage/rib-storage.service';
import { ZendeskService } from '../../notification/zendesk.service';
export declare class InvoicesService {
    private readonly invoiceRepository;
    private readonly paymentsRepository;
    private readonly companiesService;
    private readonly partnersService;
    private readonly ibansService;
    private readonly emailService;
    private readonly invoiceStorageService;
    private readonly ribStorageService;
    private readonly zendeskService;
    constructor(invoiceRepository: Repository<Invoice>, paymentsRepository: Repository<Payment>, companiesService: CompaniesService, partnersService: PartnersService, ibansService: IbansService, emailService: EmailService, invoiceStorageService: InvoiceStorageService, ribStorageService: RibStorageService, zendeskService: ZendeskService);
    private extractIban;
    private importingInvoice;
    private parseOcrInvoice;
    private scanningInvoice;
    uploadRib(file: File, invoiceId: string): Promise<string>;
    createInvoice(user: User, data: CreateInvoiceDto): Promise<Invoice>;
    createOrUpdateAR(user: User, id: string, data: any): Promise<Invoice>;
    updateStatus(id: string, status: InvoiceStatus): Promise<Invoice>;
    updateInvoice(user: User, id: string, data: any): Promise<Invoice>;
    findByCompany(company: Company, filters?: any, orderBy?: string, limit?: number, offset?: number): Promise<List>;
    findByEmitterCompany(company: Company, filters?: any, orderBy?: string, limit?: number, offset?: number): Promise<List>;
    findOneByIdAndCurrentCompany(id: string, currentCompany: Company): Promise<Invoice>;
    findOneByIdAndEmitterCompany(id: string, currentCompany: Company): Promise<Invoice>;
    findOneById(id: string): Promise<Invoice>;
    removeInvoice(user: User, id: string): Promise<Invoice>;
    removeAll(): Promise<boolean>;
    generateCode(user: User, invoiceId: string): Promise<Invoice>;
    checkCode(invoiceId: string, code: string): Promise<Invoice>;
    invoicesSent(myCompany: Company, targetCompany: Company): Promise<number>;
    invoicesReceived(myCompany: Company, targetCompany: Company): Promise<number>;
    findEstimatedBalance(invoice: Invoice): Promise<number | null>;
    findPaymentAt(invoice: Invoice): Promise<Date | null>;
}
